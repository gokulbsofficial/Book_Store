{"version":3,"sources":["webpack:///./src/$_lazy_route_resource lazy namespace object","webpack:///./src/app/app.component.css","webpack:///./src/app/app.component.html","webpack:///./src/app/app.component.ts","webpack:///./src/app/app.module.ts","webpack:///./src/app/app.routing.module.ts","webpack:///./src/app/components/common/footer/footer.component.css","webpack:///./src/app/components/common/footer/footer.component.html","webpack:///./src/app/components/common/footer/footer.component.ts","webpack:///./src/app/components/common/header/header.component.css","webpack:///./src/app/components/common/header/header.component.html","webpack:///./src/app/components/common/header/header.component.ts","webpack:///./src/app/components/common/my-common.module.ts","webpack:///./src/app/components/common/navigation/navigation.component.css","webpack:///./src/app/components/common/navigation/navigation.component.html","webpack:///./src/app/components/common/navigation/navigation.component.ts","webpack:///./src/app/components/landing/home/home.component.css","webpack:///./src/app/components/landing/home/home.component.html","webpack:///./src/app/components/landing/home/home.component.ts","webpack:///./src/app/core/directives/is-isbn.directive.ts","webpack:///./src/app/core/directives/is-url.directive.ts","webpack:///./src/app/core/directives/must-match.directive.ts","webpack:///./src/app/core/interceptors/error.interceptor.ts","webpack:///./src/app/core/interceptors/jwt.interceptor.ts","webpack:///./src/app/core/interceptors/success.interceptor.ts","webpack:///./src/app/core/models/book.model.ts","webpack:///./src/app/core/pipes/comment-time.pipe.ts","webpack:///./src/app/core/pipes/shorten-string.pipe.ts","webpack:///./src/app/core/services/book.service.ts","webpack:///./src/app/core/services/cart.service.ts","webpack:///./src/app/core/services/comment.service.ts","webpack:///./src/app/core/services/helper.service.ts","webpack:///./src/app/core/shared/book/book.component.css","webpack:///./src/app/core/shared/book/book.component.html","webpack:///./src/app/core/shared/book/book.component.ts","webpack:///./src/app/core/shared/cart/cart.component.css","webpack:///./src/app/core/shared/cart/cart.component.html","webpack:///./src/app/core/shared/cart/cart.component.ts","webpack:///./src/app/core/shared/comment/comment.component.css","webpack:///./src/app/core/shared/comment/comment.component.html","webpack:///./src/app/core/shared/comment/comment.component.ts","webpack:///./src/app/core/shared/shared.module.ts","webpack:///./src/environments/environment.ts","webpack:///./src/main.ts"],"names":[],"mappings":";;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,EAAE;AACF;AACA;AACA;AACA;AACA;AACA,qC;;;;;;;;;;;AC5BA,mB;;;;;;;;;;;ACAA,+K;;;;;;;;;;;;;;;;;;;;;ACAA,aAAa;AAC6B;AAO1C;IAAA;IAA4B,CAAC;IAAhB,YAAY;QALxB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;;;SAGrB,CAAC;OACW,YAAY,CAAI;IAAD,mBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACRzB,aAAa;AAC4B;AAEzC,UAAU;AACgD;AACqB;AACJ;AACjC;AAC4B;AACX;AACH;AACN;AAElD,aAAa;AACkC;AAC0B;AAEzE,eAAe;AACsD;AACQ;AACJ;AAwCzE;IAAA;IAAyB,CAAC;IAAb,SAAS;QAtCrB,8DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2DAAY;gBACZ,sFAAa;aACd;YACD,OAAO,EAAE;gBACP,uEAAa;gBACb,qEAAgB;gBAChB,4FAAuB;gBACvB,uDAAY,CAAC,OAAO,CAAC;oBACnB,WAAW,EAAE,KAAK;iBACnB,CAAC;gBACF,+DAAW,CAAC,OAAO,EAAE;gBACrB,kFAAc;gBACd,uEAAY;gBACZ,oEAAgB;aACjB;YACD,SAAS,EAAE;gBACT;oBACE,OAAO,EAAE,sEAAiB;oBAC1B,QAAQ,EAAE,kFAAc;oBACxB,KAAK,EAAE,IAAI;iBACZ;gBACD;oBACE,OAAO,EAAE,sEAAiB;oBAC1B,QAAQ,EAAE,0FAAkB;oBAC5B,KAAK,EAAE,IAAI;iBACZ;gBACD;oBACE,OAAO,EAAE,sEAAiB;oBAC1B,QAAQ,EAAE,sFAAgB;oBAC1B,KAAK,EAAE,IAAI;iBACZ;aACF;YACD,SAAS,EAAE;gBACT,2DAAY;aACb;SACF,CAAC;OACW,SAAS,CAAI;IAAD,gBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;AC5DtB,aAAa;AAC4B;AAEzC,UAAU;AACgE;AAE1E,aAAa;AAC4D;AAEzE,IAAM,MAAM,GAAW;IACrB;QACE,IAAI,EAAE,MAAM;QACZ,YAAY,EAAE,0CAA0C;KACzD;IACD;QACE,IAAI,EAAE,MAAM;QACZ,YAAY,EAAE,0CAA0C;KACzD;IACD;QACE,IAAI,EAAE,MAAM;QACZ,SAAS,EAAE,qFAAa;KACzB;IACD;QACE,IAAI,EAAE,EAAE;QACR,UAAU,EAAE,MAAM;QAClB,SAAS,EAAE,MAAM;KAClB;IACD;QACE,IAAI,EAAE,IAAI;QACV,UAAU,EAAE,MAAM;KACnB;CACF,CAAC;AAUF;IAAA;IAAgC,CAAC;IAApB,gBAAgB;QAR5B,8DAAQ,CAAC;YACR,OAAO,EAAE;gBACP,4DAAY,CAAC,OAAO,CAClB,MAAM,EACN,EAAE,kBAAkB,EAAE,iEAAiB,EAAE,CAC1C;aAAC;YACJ,OAAO,EAAE,CAAC,4DAAY,CAAC;SACxB,CAAC;OACW,gBAAgB,CAAI;IAAD,uBAAC;CAAA;AAAJ;;;;;;;;;;;;ACzC7B,0BAA0B,gCAAgC,yBAAyB,gCAAgC,sBAAsB,KAAK,qBAAqB,uBAAuB,KAAK,eAAe,kBAAkB,KAAK,gBAAgB,mBAAmB,KAAK,cAAc,wBAAwB,sBAAsB,KAAK,gBAAgB,qBAAqB,KAAK,qBAAqB,qBAAqB,KAAK,oBAAoB,kBAAkB,KAAK,C;;;;;;;;;;;ACAld,gdAAgd,2D;;;;;;;;;;;;;;;;;;;;;ACAhd,aAAa;AAC6B;AAO1C;IAAA;IAA+B,CAAC;IAAnB,eAAe;QAL3B,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;;;SAGvB,CAAC;OACW,eAAe,CAAI;IAAD,sBAAC;CAAA;AAAJ;;;;;;;;;;;;ACR5B,mB;;;;;;;;;;;ACAA,+E;;;;;;;;;;;;;;;;;;;;;ACAA,aAAa;AAC6B;AAO1C;IAAA;IAA+B,CAAC;IAAnB,eAAe;QAL3B,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;;;SAGvB,CAAC;OACW,eAAe,CAAI;IAAD,sBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACR5B,aAAa;AAC4B;AAEzC,UAAU;AACqC;AACA;AACM;AAErD,aAAa;AAC+C;AACY;AACZ;AAkB5D;IAAA;IAA8B,CAAC;IAAlB,cAAc;QAhB1B,8DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,wEAAe;gBACf,oFAAmB;gBACnB,wEAAe;aAChB;YACD,OAAO,EAAE;gBACP,4DAAY;gBACZ,4DAAY;gBACZ,kEAAmB;aACpB;YACD,OAAO,EAAE;gBACP,wEAAe;gBACf,wEAAe;aAChB;SACF,CAAC;OACW,cAAc,CAAI;IAAD,qBAAC;CAAA;AAAJ;;;;;;;;;;;;AC7B3B,2BAA2B,uBAAuB,gCAAgC,KAAK,mBAAmB,kBAAkB,qBAAqB,kBAAkB,yBAAyB,yBAAyB,4BAA4B,sBAAsB,KAAK,yBAAyB,gCAAgC,kBAAkB,KAAK,0BAA0B,gCAAgC,kBAAkB,KAAK,mCAAmC,kBAAkB,uBAAuB,KAAK,0CAA0C,wBAAwB,sBAAsB,yBAAyB,uBAAuB,sBAAsB,mBAAmB,sBAAsB,KAAK,kCAAkC,mBAAmB,mBAAmB,uBAAuB,sBAAsB,mBAAmB,KAAK,gDAAgD,uBAAuB,KAAK,0BAA0B,mBAAmB,qBAAqB,kBAAkB,yBAAyB,yBAAyB,4BAA4B,sBAAsB,KAAK,8CAA8C,iCAAiC,oBAAoB,OAAO,6EAA6E,oBAAoB,uBAAuB,yBAAyB,oBAAoB,kBAAkB,sBAAsB,OAAO,gCAAgC,+BAA+B,OAAO,KAAK,C;;;;;;;;;;;ACAz+C,+oCAA+oC,eAAe,2BAA2B,UAAU,qGAAqG,WAAW,kD;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAnzC,2BAA2B;AACkC;AAE7D,QAAQ;AAC4D;AAEpE,SAAS;AACgC;AAKzC,WAAW;AAC2D;AACJ;AAOlE;IAUE,6BACU,MAAc,EACd,aAA4B,EAC5B,WAAwB;QAFxB,WAAM,GAAN,MAAM,CAAQ;QACd,kBAAa,GAAb,aAAa,CAAe;QAC5B,gBAAW,GAAX,WAAW,CAAa;IAC9B,CAAC;IAEL,sCAAQ,GAAR;QAAA,iBAyBC;QAxBC,IAAI,CAAC,aAAa,GAAG,MAAM,CAAC,WAAW,CAAC,cAAM,YAAI,CAAC,IAAI,EAAE,EAAX,CAAW,EAAE,MAAM,CAAC,CAAC;QACnE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;QAChD,IAAI,CAAC,QAAQ,EAAE,CAAC;QAChB,EAAE,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,WAAW,EAAE,CAAC;QACrB,CAAC;QAED,IAAI,CAAC,YAAY,GAAG,IAAI,CAAC,aAAa;aACnC,YAAY;aACZ,SAAS,CAAC,UAAC,IAAI;YACd,KAAI,CAAC,QAAQ,GAAG,IAAI,CAAC;QACvB,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,aAAa;aACrC,UAAU;aACV,SAAS,CAAC,UAAC,IAAI;YACd,EAAE,CAAC,CAAC,IAAI,KAAK,KAAK,CAAC,CAAC,CAAC;gBACnB,KAAI,CAAC,SAAS,EAAE,CAAC;YACnB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,QAAQ,CAAC,CAAC,CAAC;gBAC7B,KAAI,CAAC,SAAS,EAAE,CAAC;YACnB,CAAC;YAAC,IAAI,CAAC,EAAE,CAAC,CAAC,IAAI,KAAK,cAAc,CAAC,CAAC,CAAC;gBACnC,KAAI,CAAC,WAAW,EAAE,CAAC;YACrB,CAAC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,yCAAW,GAAX;QACE,MAAM,CAAC,aAAa,CAAC,IAAI,CAAC,aAAa,CAAC,CAAC;QACzC,IAAI,CAAC,YAAY,CAAC,WAAW,EAAE,CAAC;QAChC,IAAI,CAAC,cAAc,CAAC,WAAW,EAAE,CAAC;IACpC,CAAC;IAED,sCAAQ,GAAR;QACE,IAAI,CAAC,UAAU,GAAG,IAAI,wDAAS,CAAC;YAC9B,OAAO,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE;gBAC3B,yDAAU,CAAC,QAAQ;aACpB,CAAC;SACH,CAAC,CAAC;IACL,CAAC;IAED,sCAAQ,GAAR;QACE,IAAM,KAAK,GAAW,IAAI,CAAC,UAAU,CAAC,KAAK,CAAC,KAAK,CAAC,IAAI,EAAE,CAAC;QACzD,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;YACvB,IAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,iBAAe,KAAO,CAAC,CAAC,CAAC;YAC/C,IAAI,CAAC,aAAa,CAAC,WAAW,CAAC,IAAI,EAAE,CAAC;QACxC,CAAC;IACH,CAAC;IAED,kCAAI,GAAJ;QACE,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC;IAClD,CAAC;IAED,0CAAY,GAAZ;QACE,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC;IACvB,CAAC;IAED,yCAAW,GAAX;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC,CAAC;YAClB,IAAI,CAAC,OAAO,GAAG,IAAI,CAAC,aAAa,CAAC,OAAO,EAAE,CAAC;QAC9C,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC;IACtB,CAAC;IAED,yCAAW,GAAX;QACE,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC,CAAC;YACnB,IAAI,CAAC,QAAQ,GAAG,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC,QAAQ,CAAC;QAC3D,CAAC;IACH,CAAC;IAED,yCAAW,GAAX;QAAA,iBAMC;QALC,IAAI,CAAC,WAAW;aACb,WAAW,EAAE;aACb,SAAS,CAAC,UAAC,GAAG;YACb,KAAI,CAAC,SAAS,GAAG,GAAG,CAAC,IAAI,CAAC;QAC5B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,oCAAM,GAAN;QACE,IAAI,CAAC,QAAQ,GAAG,SAAS,CAAC;QAC1B,IAAI,CAAC,OAAO,GAAG,SAAS,CAAC;QACzB,IAAI,CAAC,SAAS,GAAG,SAAS,CAAC;QAC3B,IAAI,CAAC,aAAa,CAAC,YAAY,EAAE,CAAC;QAClC,IAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9C,CAAC;IArGU,mBAAmB;QAL/B,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;;;SAG3B,CAAC;yCAYkB,sDAAM;YACC,2EAAa;YACf,uEAAW;OAbvB,mBAAmB,CAsG/B;IAAD,0BAAC;CAAA;AAtG+B;;;;;;;;;;;;ACrBhC,sBAAsB,wCAAwC,sBAAsB,wBAAwB,gCAAgC,uBAAuB,kBAAkB,KAAK,qBAAqB,wBAAwB,KAAK,mBAAmB,2CAA2C,sBAAsB,wBAAwB,0BAA0B,yBAAyB,uBAAuB,KAAK,C;;;;;;;;;;;ACAva,qsB;;;;;;;;;;;;;;;;;;;;;;;;;ACAA,2BAA2B;AACuB;AAElD,WAAW;AACuD;AAKlE,IAAM,gBAAgB,GAAG,mCAAmC,CAAC;AAC7D,IAAM,mBAAmB,GAAG,oCAAoC,CAAC;AACjE,IAAM,uBAAuB,GAAG,qCAAqC,CAAC;AAOtE;IAKE,uBAAoB,WAAwB;QAAxB,gBAAW,GAAX,WAAW,CAAa;IAAI,CAAC;IAEjD,gCAAQ,GAAR;QAAA,iBAkBC;QAjBC,IAAI,CAAC,WAAW;aACb,MAAM,CAAC,gBAAgB,CAAC;aACxB,SAAS,CAAC,UAAC,GAAG;YACb,KAAI,CAAC,WAAW,GAAG,GAAG,CAAC,IAAI,CAAC;QAC9B,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,WAAW;aACb,MAAM,CAAC,mBAAmB,CAAC;aAC3B,SAAS,CAAC,UAAC,GAAG;YACb,KAAI,CAAC,cAAc,GAAG,GAAG,CAAC,IAAI,CAAC;QACjC,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,WAAW;aACb,MAAM,CAAC,uBAAuB,CAAC;aAC/B,SAAS,CAAC,UAAC,GAAG;YACb,KAAI,CAAC,kBAAkB,GAAG,GAAG,CAAC,IAAI,CAAC;QACrC,CAAC,CAAC,CAAC;IACP,CAAC;IAzBU,aAAa;QALzB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;;;SAGrB,CAAC;yCAMiC,uEAAW;OALjC,aAAa,CA2BzB;IAAD,oBAAC;CAAA;AA3ByB;;;;;;;;;;;;;;;;;;;;;;;;;;AClB1B,aAAa;AAC6B;AAE1C,QAAQ;AAOgB;AAExB,YAAY;AAC8B;AAEnC,IAAM,eAAe,GAAgB,UAAC,OAAwB;IACnE,IAAM,aAAa,GAAG,2DAAM,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC5C,MAAM,CAAC,CAAC,aAAa,CAAC,CAAC,CAAC,EAAE,QAAQ,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;AACrD,CAAC,CAAC;AAUF;IAAA;IAIA,CAAC;wBAJY,eAAe;IAC1B,kCAAQ,GAAR,UAAS,OAAwB;QAC/B,MAAM,CAAC,eAAe,CAAC,OAAO,CAAC,CAAC;IAClC,CAAC;IAHU,eAAe;QAR3B,+DAAS,CAAC;YACT,QAAQ,EAAE,aAAa;YACvB,SAAS,EAAE,CAAC;oBACV,OAAO,EAAE,4DAAa;oBACtB,WAAW,EAAE,iBAAe;oBAC5B,KAAK,EAAE,IAAI;iBACZ,CAAC;SACH,CAAC;OACW,eAAe,CAI3B;IAAD,sBAAC;;CAAA;AAJ2B;;;;;;;;;;;;;;;;;;;;;;;;;;AC5B5B,aAAa;AAC6B;AAE1C,QAAQ;AAOgB;AAExB,YAAY;AAC4B;AAEjC,IAAM,cAAc,GAAgB,UAAC,OAAwB;IAClE,IAAM,YAAY,GAAG,0DAAK,CAAC,OAAO,CAAC,KAAK,CAAC,CAAC;IAC1C,MAAM,CAAC,CAAC,YAAY,CAAC,CAAC,CAAC,EAAE,OAAO,EAAE,KAAK,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;AACnD,CAAC,CAAC;AAUF;IAAA;IAIA,CAAC;uBAJY,cAAc;IACzB,iCAAQ,GAAR,UAAS,OAAwB;QAC/B,MAAM,CAAC,cAAc,CAAC,OAAO,CAAC,CAAC;IACjC,CAAC;IAHU,cAAc;QAR1B,+DAAS,CAAC;YACT,QAAQ,EAAE,YAAY;YACtB,SAAS,EAAE,CAAC;oBACV,OAAO,EAAE,4DAAa;oBACtB,WAAW,EAAE,gBAAc;oBAC3B,KAAK,EAAE,IAAI;iBACZ,CAAC;SACH,CAAC;OACW,cAAc,CAI1B;IAAD,qBAAC;;CAAA;AAJ0B;;;;;;;;;;;;;;;;;;;;;;;;AC5B3B,aAAa;AAC6B;AAE1C,QAAQ;AAQgB;AAEjB,IAAM,kBAAkB,GAAgB,UAAC,OAAkB;IAChE,IAAM,QAAQ,GAAG,OAAO,CAAC,GAAG,CAAC,UAAU,CAAC,CAAC;IACzC,IAAM,gBAAgB,GAAG,OAAO,CAAC,GAAG,CAAC,iBAAiB,CAAC,CAAC;IAExD,MAAM,CAAC,QAAQ,IAAI,gBAAgB,IAAI,QAAQ,CAAC,KAAK,KAAK,gBAAgB,CAAC,KAAK,CAAC,CAAC,CAAC,EAAE,WAAW,EAAE,IAAI,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC;AAClH,CAAC,CAAC;AAUF;IAAA;IAIA,CAAC;2BAJY,kBAAkB;IAC7B,qCAAQ,GAAR,UAAS,OAAwB;QAC/B,MAAM,CAAC,kBAAkB,CAAC,OAAO,CAAC,CAAC;IACrC,CAAC;IAHU,kBAAkB;QAR9B,+DAAS,CAAC;YACT,QAAQ,EAAE,gBAAgB;YAC1B,SAAS,EAAE,CAAC;oBACV,OAAO,EAAE,4DAAa;oBACtB,WAAW,EAAE,oBAAkB;oBAC/B,KAAK,EAAE,IAAI;iBACZ,CAAC;SACH,CAAC;OACW,kBAAkB,CAI9B;IAAD,yBAAC;;CAAA;AAJ8B;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC5B/B,aAAa;AAC8B;AAE3C,OAAO;AACuC;AACF;AAW5C,WAAW;AACgC;AAG3C;IAEE,0BAAoB,MAAqB;QAArB,WAAM,GAAN,MAAM,CAAe;IAAI,CAAC;IAE9C,oCAAS,GAAT,UAAU,OAAyB,EAAE,IAAiB;QAAtD,iBAqBC;QApBC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;aACxB,IAAI,CACH,iEAAU,CAAC,UAAC,GAAsB;YAChC,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,YAAY,aAAa,CAAC,CAAC,CAAC;gBACvC,0CAA0C;gBAC1C,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,gBAAgB,CAAC,CAAC;YACtC,CAAC;YAAC,IAAI,CAAC,CAAC;gBACN,qDAAqD;gBACrD,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,OAAO,EAAK,GAAG,CAAC,MAAM,CAAC,QAAQ,EAAE,WAAM,GAAG,CAAC,UAAY,CAAC,CAAC;gBACrF,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;oBACrB,GAAG,CAAC,CAAC,IAAM,CAAC,IAAI,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC;wBACjC,EAAE,CAAC,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,cAAc,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;4BACvC,KAAI,CAAC,MAAM,CAAC,KAAK,CAAC,GAAG,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,CAAC;wBACzC,CAAC;oBACH,CAAC;gBACH,CAAC;YACH,CAAC;YAED,MAAM,CAAC,uDAAU,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC;QAC/B,CAAC,CAAC,CAAC,CAAC;IACV,CAAC;IAzBU,gBAAgB;QAD5B,gEAAU,EAAE;yCAGiB,wDAAa;OAF9B,gBAAgB,CA0B5B;IAAD,uBAAC;CAAA;AA1B4B;;;;;;;;;;;;;;;;;;;;;;;;;;ACpB7B,aAAa;AAC8B;AAa3C,WAAW;AACgD;AAG3D;IAEE,wBAAoB,aAA4B;QAA5B,kBAAa,GAAb,aAAa,CAAe;IAAI,CAAC;IAErD,kCAAS,GAAT,UAAU,OAAyB,EAAE,IAAiB;QACpD,EAAE,CAAC,CAAC,IAAI,CAAC,aAAa,CAAC,UAAU,EAAE,CAAC,CAAC,CAAC;YACpC,OAAO,GAAG,OAAO,CAAC,KAAK,CAAC;gBACtB,UAAU,EAAE;oBACV,QAAQ,EAAE,kBAAkB;oBAC5B,cAAc,EAAE,kBAAkB;oBAClC,eAAe,EAAE,SAAS,GAAG,IAAI,CAAC,aAAa,CAAC,QAAQ,EAAE;iBAC3D;aACF,CAAC,CAAC;QACL,CAAC;QAED,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC,CAAC;IAC9B,CAAC;IAhBU,cAAc;QAD1B,gEAAU,EAAE;yCAGwB,sEAAa;OAFrC,cAAc,CAkB1B;IAAD,qBAAC;CAAA;AAlB0B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AClB3B,aAAa;AAC8B;AAIN;AAErC,OAAO;AAOuB;AAE9B,WAAW;AACgC;AACgB;AAG3D;IAEE,4BACU,MAAqB,EACrB,aAA4B;QAD5B,WAAM,GAAN,MAAM,CAAe;QACrB,kBAAa,GAAb,aAAa,CAAe;IAClC,CAAC;IAEL,sCAAS,GAAT,UAAU,OAAyB,EAAE,IAAiB;QAAtD,iBAoBC;QAnBC,MAAM,CAAC,IAAI,CAAC,MAAM,CAAC,OAAO,CAAC;aACxB,IAAI,CACH,0DAAG,CACD,UAAC,KAAqB;YACpB,EAAE,CAAC,CAAC,KAAK,YAAY,iEAAY,CAAC,CAAC,CAAC;gBAClC,EAAE,CAAC,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,IAAI,KAAK,CAAC,IAAI,CAAC,OAAO,KAAK,EAAE,CAAC,CAAC,CAAC;oBACpD,KAAI,CAAC,MAAM,CAAC,OAAO,CAAC,KAAK,CAAC,IAAI,CAAC,OAAO,CAAC,CAAC;gBAC1C,CAAC;YACH,CAAC;YAED,EAAE,CAAC,CAAC,KAAK,YAAY,iEAAY,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,OAAO,CAAC;gBAChE,KAAK,YAAY,iEAAY,IAAI,OAAO,CAAC,GAAG,CAAC,QAAQ,CAAC,UAAU,CAAC,CAAC,CAAC,CAAC;gBACpE,KAAI,CAAC,aAAa,CAAC,WAAW,CAAC,KAAK,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAChD,KAAI,CAAC,aAAa,CAAC,YAAY,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC;gBAC3C,KAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACrD,CAAC;QACH,CAAC,CACF,CACF,CAAC;IACN,CAAC;IA3BU,kBAAkB;QAD9B,gEAAU,EAAE;yCAIO,wDAAa;YACN,sEAAa;OAJ3B,kBAAkB,CA4B9B;IAAD,yBAAC;CAAA;AA5B8B;;;;;;;;;;;;;;ACnB/B;AAAA;IACE,cACS,GAAW,EACX,KAAa,EACb,MAAc,EACd,KAAa,EACb,IAAY,EACZ,WAAmB,EACnB,KAAa,EACb,IAAY,EACZ,UAAkB,EAClB,KAAa,EACb,GAAY,EACZ,YAAmB,EACnB,aAAsB,EACtB,YAAqB,EACrB,UAAmB,EACnB,cAAuB,EACvB,QAAoB;QAhBpB,QAAG,GAAH,GAAG,CAAQ;QACX,UAAK,GAAL,KAAK,CAAQ;QACb,WAAM,GAAN,MAAM,CAAQ;QACd,UAAK,GAAL,KAAK,CAAQ;QACb,SAAI,GAAJ,IAAI,CAAQ;QACZ,gBAAW,GAAX,WAAW,CAAQ;QACnB,UAAK,GAAL,KAAK,CAAQ;QACb,SAAI,GAAJ,IAAI,CAAQ;QACZ,eAAU,GAAV,UAAU,CAAQ;QAClB,UAAK,GAAL,KAAK,CAAQ;QACb,QAAG,GAAH,GAAG,CAAS;QACZ,iBAAY,GAAZ,YAAY,CAAO;QACnB,kBAAa,GAAb,aAAa,CAAS;QACtB,iBAAY,GAAZ,YAAY,CAAS;QACrB,eAAU,GAAV,UAAU,CAAS;QACnB,mBAAc,GAAd,cAAc,CAAS;QACvB,aAAQ,GAAR,QAAQ,CAAY;IACzB,CAAC;IACP,WAAC;AAAD,CAAC;;;;;;;;;;;;;;;;;;;;;;;ACtBD,aAAa;AACuC;AAEpD,kBAAkB,aAAqB;IACrC,IAAI,IAAI,GAAG,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAG,CAAC,IAAI,IAAI,CAAC,aAAa,CAAC,CAAC,OAAO,EAAE,CAAC,CAAC;IACtE,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,KAAK,CAAC,CAAC;IAEhC,EAAE,CAAC,CAAC,IAAI,GAAG,CAAC,CAAC,CAAC,CAAC;QACb,MAAM,CAAC,oBAAoB,CAAC;IAC9B,CAAC;IAED,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;QACd,MAAM,CAAC,IAAI,GAAG,SAAS,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;IAC5C,CAAC;IAED,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;IAE7B,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;QACd,MAAM,CAAC,IAAI,GAAG,OAAO,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;IAC1C,CAAC;IAED,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;IAE7B,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;QACd,MAAM,CAAC,IAAI,GAAG,MAAM,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;IACzC,CAAC;IAED,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;IAE7B,EAAE,CAAC,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC,CAAC;QACd,MAAM,CAAC,IAAI,GAAG,QAAQ,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;IAC3C,CAAC;IAED,IAAI,GAAG,IAAI,CAAC,KAAK,CAAC,IAAI,GAAG,EAAE,CAAC,CAAC;IAE7B,MAAM,CAAC,IAAI,GAAG,OAAO,GAAG,SAAS,CAAC,IAAI,CAAC,CAAC;IAExC,mBAAmB,KAAK;QACtB,EAAE,CAAC,CAAC,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC;YAChB,MAAM,CAAC,GAAG,CAAC;QACb,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,MAAM,CAAC,EAAE,CAAC;QACZ,CAAC;IACH,CAAC;AACH,CAAC;AAMD;IAAA;IAKA,CAAC;IAJC,mCAAS,GAAT,UAAU,KAAa,EAAE,IAAU;QACjC,MAAM,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;IACzB,CAAC;IAHU,eAAe;QAJ3B,0DAAI,CAAC;YACJ,IAAI,EAAE,aAAa;YACnB,IAAI,EAAE,IAAI;SACX,CAAC;OACW,eAAe,CAK3B;IAAD,sBAAC;CAAA;AAL2B;;;;;;;;;;;;;;;;;;;;;;AClD5B,aAAa;AACuC;AAMpD;IAAA;IASA,CAAC;IARC,qCAAS,GAAT,UAAU,KAAa,EAAE,GAAW;QAClC,EAAE,CAAC,CAAC,KAAK,CAAC,MAAM,IAAI,GAAG,CAAC,CAAC,CAAC;YACxB,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAED,MAAM,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,GAAG,CAAC,GAAG,KAAK,CAAC;IACrC,CAAC;IAPU,iBAAiB;QAJ7B,0DAAI,CAAC;YACJ,IAAI,EAAE,eAAe;YACrB,IAAI,EAAE,IAAI;SACX,CAAC;OACW,iBAAiB,CAS7B;IAAD,wBAAC;CAAA;AAT6B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACP9B,aAAa;AAC8B;AAK3C,OAAO;AAC2C;AAMc;AAEhE,IAAM,MAAM,GAAG,qEAAW,CAAC,SAAS,CAAC;AACrC,IAAM,qBAAqB,GAAG,MAAM,GAAG,gBAAgB,CAAC;AACxD,IAAM,kBAAkB,GAAG,MAAM,GAAG,WAAW,CAAC;AAChD,IAAM,gBAAgB,GAAG,MAAM,GAAG,aAAa,CAAC;AAChD,IAAM,kBAAkB,GAAG,MAAM,GAAG,eAAe,CAAC;AACpD,IAAM,gBAAgB,GAAG,MAAM,GAAG,aAAa,CAAC;AAChD,IAAM,sBAAsB,GAAG,MAAM,GAAG,uBAAuB,CAAC;AAChE,IAAM,kBAAkB,GAAG,MAAM,GAAG,cAAc,CAAC;AAKnD;IACE,qBAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IAExC,mCAAa,GAAb,UAAc,EAAU;QACtB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAuB,qBAAqB,GAAG,EAAE,CAAC,CAAC;IACzE,CAAC;IAED,gCAAU,GAAV,UAAW,OAAa;QACtB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAuB,kBAAkB,EAAE,OAAO,CAAC,CAAC;IAC3E,CAAC;IAED,8BAAQ,GAAR,UAAS,EAAU,EAAE,OAAa;QAChC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAuB,gBAAgB,GAAG,EAAE,EAAE,OAAO,CAAC,CAAC;IAC7E,CAAC;IAED,gCAAU,GAAV,UAAW,EAAU;QACnB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CAAuB,kBAAkB,GAAG,EAAE,CAAC,CAAC;IACzE,CAAC;IAED,8BAAQ,GAAR,UAAS,EAAU,EAAE,OAAe;QAClC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CAAuB,gBAAgB,GAAG,EAAE,EAAE,OAAO,CAAC,CAAC;IAC9E,CAAC;IAED,qCAAe,GAAf,UAAgB,EAAU;QACxB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,sBAAsB,GAAG,EAAE,EAC3B,EAAE,CACH,CAAC;IACJ,CAAC;IAED,4BAAM,GAAN,UAAO,KAAa;QAClB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAyB,kBAAkB,GAAG,KAAK,CAAC,CAAC;IAC3E,CAAC;IAhCU,WAAW;QAHvB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAE0B,+DAAU;OADzB,WAAW,CAiCvB;IAAD,kBAAC;CAAA;AAjCuB;;;;;;;;;;;;;;;;;;;;;;;;;;;;AC3BxB,aAAa;AAC8B;AAIN;AAErC,OAAO;AAC2C;AAMc;AAEhE,IAAM,MAAM,GAAG,qEAAW,CAAC,SAAS,CAAC;AACrC,IAAM,OAAO,GAAG,MAAM,GAAG,YAAY,CAAC;AACtC,IAAM,mBAAmB,GAAG,MAAM,GAAG,eAAe,CAAC;AACrD,IAAM,iBAAiB,GAAG,OAAO,CAAC;AAClC,IAAM,sBAAsB,GAAG,UAAU,CAAC;AAC1C,IAAM,gBAAgB,GAAG,WAAW,CAAC;AAKrC;IACE,qBAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IAExC,iCAAW,GAAX;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAyB,mBAAmB,CAAC,CAAC;IACpE,CAAC;IAED,6BAAO,GAAP;QACE,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAuB,OAAO,CAAC,CAAC,IAAI,CACtD,0DAAG,CAAC,UAAC,GAAG;YACN,GAAG,CAAC,IAAI,CAAC,KAAK,CAAC,GAAG,CAAC,UAAC,CAAC,IAAK,QAAC,CAAC,CAAC,GAAG,GAAG,CAAC,CAAC,EAAX,CAAW,CAAC,CAAC;YACvC,MAAM,CAAC,GAAG,CAAC;QACb,CAAC,CAAC,CACH,CAAC;IACJ,CAAC;IAED,+BAAS,GAAT,UAAU,EAAU;QAClB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,OAAO,GAAG,iBAAiB,GAAG,EAAE,EAChC,EAAE,CACH,CAAC;IACJ,CAAC;IAED,oCAAc,GAAd,UAAe,EAAU;QACvB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CACrB,OAAO,GAAG,sBAAsB,GAAG,EAAE,CACtC,CAAC;IACJ,CAAC;IAED,8BAAQ,GAAR,UAAS,OAAe;QACtB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,OAAO,GAAG,gBAAgB,EAC1B,OAAO,CACR,CAAC;IACJ,CAAC;IAlCU,WAAW;QAHvB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAE0B,+DAAU;OADzB,WAAW,CAmCvB;IAAD,kBAAC;CAAA;AAnCuB;;;;;;;;;;;;;;;;;;;;;;;;;;;AC1BxB,aAAa;AAC8B;AAK3C,OAAO;AAC2C;AAMc;AAEhE,IAAM,OAAO,GAAG,qEAAW,CAAC,SAAS,GAAG,UAAU,CAAC;AACnD,IAAM,kBAAkB,GAAG,OAAO,CAAC;AACnC,IAAM,mBAAmB,GAAG,QAAQ,CAAC;AACrC,IAAM,qBAAqB,GAAG,UAAU,CAAC;AACzC,IAAM,oBAAoB,GAAG,uBAAuB,CAAC;AAKrD;IACE,wBAAoB,IAAgB;QAAhB,SAAI,GAAJ,IAAI,CAAY;IAAG,CAAC;IAExC,oCAAW,GAAX,UAAY,EAAU,EAAE,IAAY;QAClC,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAA+B,OAAO,SAAI,EAAE,SAAI,IAAM,CAAC,CAAC;IAC9E,CAAC;IAED,8CAAqB,GAArB,UAAsB,EAAU;QAC9B,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,OAAO,GAAG,oBAAoB,GAAG,EAAE,CACpC,CAAC;IACJ,CAAC;IAED,mCAAU,GAAV,UACE,EAAU,EACV,OAAgB;QAEhB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,CACnB,OAAO,GAAG,kBAAkB,GAAG,EAAE,EACjC,OAAO,CACR,CAAC;IACJ,CAAC;IAED,oCAAW,GAAX,UACE,EAAU,EACV,OAAgB;QAEhB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAClB,OAAO,GAAG,mBAAmB,GAAG,EAAE,EAClC,OAAO,CACR,CAAC;IACJ,CAAC;IAED,sCAAa,GAAb,UAAc,EAAU;QACtB,MAAM,CAAC,IAAI,CAAC,IAAI,CAAC,MAAM,CACrB,OAAO,GAAG,qBAAqB,GAAG,EAAE,CACrC,CAAC;IACJ,CAAC;IArCU,cAAc;QAH1B,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;yCAE0B,+DAAU;OADzB,cAAc,CAsC1B;IAAD,qBAAC;CAAA;AAtC0B;;;;;;;;;;;;;;;;;;;;;;;;;ACxB3B,aAAa;AAC8B;AAE3C,OAAO;AACwB;AAE/B,eAAe;AACiB;AAKhC;IAHA;QAIE,iBAAY,GAAG,IAAI,4CAAO,EAAW,CAAC;QACtC,gBAAW,GAAG,IAAI,4CAAO,EAAU,CAAC;QACpC,eAAU,GAAG,IAAI,4CAAO,EAAU,CAAC;IAmDrC,CAAC;IAjDC,mCAAW,GAAX,UAAY,KAAK;QACf,YAAY,CAAC,OAAO,CAAC,OAAO,EAAE,KAAK,CAAC,CAAC;IACvC,CAAC;IAED,oCAAY,GAAZ;QACE,YAAY,CAAC,KAAK,EAAE,CAAC;IACvB,CAAC;IAED,kCAAU,GAAV;QACE,IAAI,CAAC;YACH,IAAM,OAAO,GAAG,iDAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;YAExC,MAAM,CAAC,OAAO,CAAC,GAAG,CAAC;QACrB,CAAC;QAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACb,MAAM,CAAC,EAAE,CAAC;QACZ,CAAC;IACH,CAAC;IAED,kCAAU,GAAV;QACE,IAAI,CAAC;YACH,IAAM,OAAO,GAAG,iDAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;YAExC,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,CAAC,CAAC,CAAC;gBACpC,MAAM,CAAC,IAAI,CAAC;YACd,CAAC;YAED,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;QAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACb,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;IACH,CAAC;IAED,+BAAO,GAAP;QACE,IAAI,CAAC;YACH,IAAM,OAAO,GAAG,iDAAM,CAAC,IAAI,CAAC,QAAQ,EAAE,CAAC,CAAC;YAExC,EAAE,CAAC,CAAC,OAAO,CAAC,GAAG,GAAG,IAAI,CAAC,GAAG,EAAE,GAAG,IAAI,IAAI,CAAC,OAAO,CAAC,GAAG,CAAC,OAAO,CAAC,CAAC,CAAC;gBAC5D,MAAM,CAAC,KAAK,CAAC;YACf,CAAC;YAED,MAAM,CAAC,IAAI,CAAC;QACd,CAAC;QAAC,KAAK,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC;YACb,MAAM,CAAC,KAAK,CAAC;QACf,CAAC;IACH,CAAC;IAED,gCAAQ,GAAR;QACE,MAAM,CAAC,YAAY,CAAC,OAAO,CAAC,OAAO,CAAC,CAAC;IACvC,CAAC;IArDU,aAAa;QAHzB,gEAAU,CAAC;YACV,UAAU,EAAE,MAAM;SACnB,CAAC;OACW,aAAa,CAsDzB;IAAD,oBAAC;CAAA;AAtDyB;;;;;;;;;;;;ACZ1B,8BAA8B,oCAAoC,4BAA4B,0BAA0B,mBAAmB,iBAAiB,KAAK,wBAAwB,kBAAkB,oBAAoB,KAAK,uBAAuB,4BAA4B,sBAAsB,KAAK,oDAAoD,wBAAwB,KAAK,0BAA0B,gCAAgC,4BAA4B,kBAAkB,KAAK,C;;;;;;;;;;;ACAhf,8DAA8D,YAAY,kCAAkC,YAAY,iBAAiB,aAAa,gBAAgB,YAAY,MAAM,oEAAoE,UAAU,8B;;;;;;;;;;;;;;;;;;;;;;;;;ACAtQ,aAAa;AACoC;AAEjD,SAAS;AACsC;AAO/C;IAAA;IAEA,CAAC;IADgB;QAAd,2DAAK,CAAC,MAAM,CAAC;kCAAO,uDAAI;+CAAC;IADf,aAAa;QALzB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;;;SAGrB,CAAC;OACW,aAAa,CAEzB;IAAD,oBAAC;CAAA;AAFyB;;;;;;;;;;;;ACX1B,kCAAkC,iBAAiB,wBAAwB,KAAK,qBAAqB,kBAAkB,KAAK,oBAAoB,gCAAgC,KAAK,qBAAqB,wBAAwB,KAAK,qBAAqB,uBAAuB,KAAK,mBAAmB,kBAAkB,yBAAyB,6BAA6B,yBAAyB,kBAAkB,uBAAuB,KAAK,yBAAyB,gBAAgB,yBAAyB,kBAAkB,mBAAmB,iBAAiB,mBAAmB,kBAAkB,sBAAsB,gBAAgB,iBAAiB,gCAAgC,KAAK,6BAA6B,yBAAyB,gBAAgB,kBAAkB,mBAAmB,mCAAmC,yBAAyB,uBAAuB,sBAAsB,uBAAuB,mCAAmC,KAAK,gBAAgB,iBAAiB,mBAAmB,sBAAsB,KAAK,C;;;;;;;;;;;ACArhC,sWAAsW,kCAAkC,MAAM,0SAA0S,SAAS,0MAA0M,SAAS,6DAA6D,UAAU,2SAA2S,SAAS,gZAAgZ,OAAO,4CAA4C,OAAO,ojCAAojC,kCAAkC,MAAM,6yB;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACArzF,2BAA2B;AAC+C;AAG1E,SAAS;AACgC;AAEzC,QAAQ;AAC4D;AAIA;AAEpE,WAAW;AAC+C;AACI;AACT;AAWrD;IAQE,uBACU,MAAc,EACd,WAAwB,EACxB,aAA4B,EAC5B,YAA4B;QAH5B,WAAM,GAAN,MAAM,CAAQ;QACd,gBAAW,GAAX,WAAW,CAAa;QACxB,kBAAa,GAAb,aAAa,CAAe;QAC5B,iBAAY,GAAZ,YAAY,CAAgB;IAClC,CAAC;IAEL,gCAAQ,GAAR;QAAA,iBAQC;QAPC,IAAI,CAAC,WAAW;aACb,OAAO,EAAE;aACT,SAAS,CAAC,UAAC,GAAG;YACb,KAAI,CAAC,IAAI,GAAG,GAAG,CAAC,IAAI,CAAC;YACrB,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,WAAW,CAAC,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;YAClD,KAAI,CAAC,SAAS,EAAE,CAAC;QACnB,CAAC,CAAC,CAAC;IACP,CAAC;IAED,mCAAW,GAAX;QACE,IAAI,CAAC,WAAW,CAAC,WAAW,EAAE,CAAC;IACjC,CAAC;IAED,mCAAW,GAAX,UAAY,KAAa;QACvB,IAAM,KAAK,GAAQ,EAAE,CAAC;QAEtB,KAAK,CAAC,OAAO,CAAC,cAAI;YAChB,KAAK,CAAC,IAAI,CAAC,GAAG,CAAC,GAAG,IAAI,0DAAW,CAC/B,IAAI,CAAC,GAAG,IAAI,EAAE,EAAE;gBACd,yDAAU,CAAC,QAAQ;gBACnB,yDAAU,CAAC,GAAG,CAAC,CAAC,CAAC;gBACjB,yDAAU,CAAC,GAAG,CAAC,EAAE,CAAC;aACnB,CAAC,CAAC;QACP,CAAC,CAAC,CAAC;QAEH,MAAM,CAAC,IAAI,wDAAS,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAED,iCAAS,GAAT;QAAA,iBAaC;QAZC,IAAI,CAAC,WAAW,GAAG,IAAI,CAAC,QAAQ;aAC7B,YAAY;aACZ,IAAI,CACH,mEAAY,CAAC,GAAG,CAAC,EACjB,2EAAoB,EAAE,CACvB;aACA,SAAS,CAAC,aAAG;YACZ,EAAE,CAAC,CAAC,KAAI,CAAC,aAAa,KAAK,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;gBAC/C,KAAI,CAAC,aAAa,GAAG,IAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;gBACzC,KAAI,CAAC,SAAS,CAAC,GAAG,CAAC,CAAC;YACtB,CAAC;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,uCAAe,GAAf,UAAgB,QAA0B,EAAE,EAAU;QACpD,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAC1C,QAAQ,EACR,EAAE,KAAK,EAAE,kBAAkB,EAAE,CAC9B,CAAC;IACJ,CAAC;IAED,gCAAQ,GAAR;QAAA,iBASC;QARC,IAAI,CAAC,WAAW;aACb,cAAc,CAAC,IAAI,CAAC,YAAY,CAAC;aACjC,SAAS,CAAC;YACT,KAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YAC7C,KAAI,CAAC,IAAI,CAAC,KAAK,GAAG,KAAI,CAAC,IAAI,CAAC,KAAK,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,GAAG,KAAK,KAAI,CAAC,YAAY,EAA3B,CAA2B,CAAC,CAAC;YAC3E,KAAI,CAAC,SAAS,CAAC,KAAI,CAAC,QAAQ,CAAC,KAAK,CAAC,CAAC;YACpC,KAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;QAC7B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,gCAAQ,GAAR;QAAA,iBAOC;QANC,IAAI,CAAC,WAAW;aACb,QAAQ,CAAC,IAAI,CAAC,QAAQ,CAAC,KAAK,CAAC;aAC7B,SAAS,CAAC;YACT,KAAI,CAAC,aAAa,CAAC,UAAU,CAAC,IAAI,CAAC,cAAc,CAAC,CAAC;YACnD,KAAI,CAAC,MAAM,CAAC,QAAQ,CAAC,CAAC,uBAAuB,CAAC,CAAC,CAAC;QAClD,CAAC,CAAC,CAAC;IACP,CAAC;IAED,iCAAS,GAAT,UAAU,UAAkB;QAC1B,IAAI,KAAK,GAAG,CAAC,CAAC;QACd,GAAG,CAAC,CAAY,UAAe,EAAf,SAAI,CAAC,IAAI,CAAC,KAAK,EAAf,cAAe,EAAf,IAAe;YAA1B,IAAM,CAAC;YACV,KAAK,IAAI,CAAC,CAAC,KAAK,GAAG,UAAU,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC;SACtC;QAED,IAAI,CAAC,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;IAC/B,CAAC;IAED,kCAAU,GAAV,UAAW,EAAU;QACnB,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,GAAG,CAAC,EAAE,CAAC,CAAC;IAC/B,CAAC;IAlGU,aAAa;QALzB,+DAAS,CAAC;YACT,QAAQ,EAAE,UAAU;;;SAGrB,CAAC;yCAUkB,sDAAM;YACD,kEAAW;YACT,sEAAa;YACd,kEAAc;OAZ3B,aAAa,CAmGzB;IAAD,oBAAC;CAAA;AAnGyB;;;;;;;;;;;;AC5B1B,yBAAyB,uBAAuB,KAAK,kBAAkB,oBAAoB,gCAAgC,0BAA0B,KAAK,iBAAiB,0BAA0B,KAAK,mBAAmB,yBAAyB,qBAAqB,KAAK,eAAe,0BAA0B,KAAK,8BAA8B,kBAAkB,wBAAwB,KAAK,uBAAuB,uBAAuB,KAAK,yBAAyB,0BAA0B,KAAK,C;;;;;;;;;;;ACAtf,+mBAA+mB,iBAAiB,yEAAyE,eAAe,4MAA4M,iBAAiB,QAAQ,iBAAiB,OAAO,8BAA8B,gFAAgF,WAAW,+5BAA+5B,QAAQ,4KAA4K,26B;;;;;;;;;;;;;;;;;;;;;;;;;;;ACAjqE,2BAA2B;AAC2C;AAGtE,WAAW;AACqD;AACX;AAIe;AAOpE;IAcE,0BACU,cAA8B,EAC9B,YAA4B;QAD5B,mBAAc,GAAd,cAAc,CAAgB;QAC9B,iBAAY,GAAZ,YAAY,CAAgB;QARtC,aAAQ,GAAc,EAAE,CAAC;IASrB,CAAC;IAEL,mCAAQ,GAAR;QAAA,iBAUC;QATC,IAAI,CAAC,WAAW,GAAG,IAAI,wDAAS,CAAC;YAC/B,SAAS,EAAE,IAAI,0DAAW,CAAC,EAAE,EAAE,yDAAU,CAAC,QAAQ,CAAC;SACpD,CAAC,CAAC;QAEH,IAAI,CAAC,cAAc;aAChB,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;aACzD,SAAS,CAAC,UAAC,GAAG;YACb,KAAI,CAAC,QAAQ,GAAG,GAAG,CAAC,IAAI,CAAC;QAC3B,CAAC,CAAC,CAAC;IACP,CAAC;IAED,wCAAa,GAAb,UAAc,QAA0B,EAAE,EAAW;QACnD,EAAE,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;YACP,IAAI,OAAO,GAAG,EAAE,CAAC;YACjB,IAAI,CAAC,UAAU,GAAG,IAAI,CAAC;YACvB,IAAI,CAAC,UAAU,GAAG,EAAE,CAAC;YACrB,GAAG,CAAC,CAAY,UAAa,EAAb,SAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa;gBAAxB,IAAM,CAAC;gBACV,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,EAAE,CAAC,CAAC,CAAC;oBACjB,OAAO,GAAG,CAAC,CAAC,OAAO,CAAC;oBACpB,KAAK,CAAC;gBACR,CAAC;aACF;YACD,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;YACrB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,OAAO,EAAE,OAAO,EAAE,CAAC,CAAC;QACpD,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,MAAM,GAAG,QAAQ,CAAC;YACvB,IAAI,CAAC,UAAU,GAAG,KAAK,CAAC;YACxB,IAAI,CAAC,WAAW,CAAC,UAAU,CAAC,EAAE,OAAO,EAAE,EAAE,EAAE,CAAC,CAAC;QAC/C,CAAC;QAED,IAAI,CAAC,eAAe,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAC3C,QAAQ,EACR,EAAE,KAAK,EAAE,SAAS,EAAE,CACrB,CAAC;IACJ,CAAC;IAED,0CAAe,GAAf,UAAgB,QAA0B,EAAE,EAAU;QACpD,IAAI,CAAC,YAAY,GAAG,EAAE,CAAC;QACvB,IAAI,CAAC,cAAc,GAAG,IAAI,CAAC,YAAY,CAAC,IAAI,CAC1C,QAAQ,EACR,EAAE,KAAK,EAAE,kBAAkB,EAAE,CAC9B,CAAC;IACJ,CAAC;IAED,mCAAQ,GAAR;QACE,EAAE,CAAC,CAAC,IAAI,CAAC,UAAU,CAAC,CAAC,CAAC;YACpB,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC;QAAC,IAAI,CAAC,CAAC;YACN,IAAI,CAAC,aAAa,EAAE,CAAC;QACvB,CAAC;IACH,CAAC;IAED,2CAAgB,GAAhB;QAAA,iBAQC;QAPC,IAAI,CAAC,cAAc;aAChB,WAAW,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,QAAQ,EAAE,CAAC;aACzD,SAAS,CAAC,UAAC,GAAG;YACb,EAAE,CAAC,CAAC,GAAG,CAAC,IAAI,CAAC,MAAM,KAAK,CAAC,CAAC,CAAC,CAAC;gBAC1B,WAAI,CAAC,QAAQ,EAAC,MAAM,YAAC,KAAI,CAAC,QAAQ,CAAC,MAAM,EAAE,CAAC,SAAK,GAAG,CAAC,IAAI,GAAE;YAC7D,CAAC;;QACH,CAAC,CAAC,CAAC;IACP,CAAC;IAED,wCAAa,GAAb;QAAA,iBAQC;QAPC,IAAI,CAAC,cAAc;aAChB,UAAU,CAAC,IAAI,CAAC,MAAM,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;aAC/C,SAAS,CAAC,UAAC,GAAG;YACb,KAAI,CAAC,QAAQ,CAAC,OAAO,CAAC,GAAG,CAAC,IAAI,CAAC,CAAC;QAClC,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;IAC3B,CAAC;IAED,wCAAa,GAAb;QAAA,iBAcC;QAbC,IAAM,aAAa,GAAG,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC,OAAO,CAAC;QACrD,IAAI,CAAC,cAAc;aAChB,WAAW,CAAC,IAAI,CAAC,UAAU,EAAE,IAAI,CAAC,WAAW,CAAC,KAAK,CAAC;aACpD,SAAS,CAAC;YACT,GAAG,CAAC,CAAY,UAAa,EAAb,UAAI,CAAC,QAAQ,EAAb,cAAa,EAAb,IAAa;gBAAxB,IAAM,CAAC;gBACV,EAAE,CAAC,CAAC,CAAC,CAAC,GAAG,KAAK,KAAI,CAAC,UAAU,CAAC,CAAC,CAAC;oBAC9B,CAAC,CAAC,OAAO,GAAG,aAAa,CAAC;oBAC1B,KAAK,CAAC;gBACR,CAAC;aACF;QACH,CAAC,CAAC,CAAC;QAEL,IAAI,CAAC,WAAW,CAAC,KAAK,EAAE,CAAC;IAC3B,CAAC;IAED,wCAAa,GAAb;QAAA,iBAQC;QAPC,IAAI,CAAC,cAAc,CAAC,IAAI,EAAE,CAAC;QAC3B,IAAM,KAAK,GAAG,IAAI,CAAC,YAAY,CAAC;QAChC,IAAI,CAAC,cAAc;aAChB,aAAa,CAAC,IAAI,CAAC,YAAY,CAAC;aAChC,SAAS,CAAC;YACT,KAAI,CAAC,QAAQ,GAAG,KAAI,CAAC,QAAQ,CAAC,MAAM,CAAC,WAAC,IAAI,QAAC,CAAC,GAAG,KAAK,KAAK,EAAf,CAAe,CAAC,CAAC;QAC7D,CAAC,CAAC,CAAC;IACP,CAAC;IAnHgB;QAAhB,2DAAK,CAAC,QAAQ,CAAC;;oDAAgB;IACb;QAAlB,2DAAK,CAAC,UAAU,CAAC;;sDAAmB;IACnB;QAAjB,2DAAK,CAAC,SAAS,CAAC;;qDAAkB;IAClB;QAAhB,2DAAK,CAAC,QAAQ,CAAC;;oDAAgB;IAJrB,gBAAgB;QAL5B,+DAAS,CAAC;YACT,QAAQ,EAAE,aAAa;;;SAGxB,CAAC;yCAgB0B,wEAAc;YAChB,kEAAc;OAhB3B,gBAAgB,CAsH5B;IAAD,uBAAC;CAAA;AAtH4B;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ACjB7B,aAAa;AAC4B;AAEzC,UAAU;AACqC;AACA;AACM;AAErD,aAAa;AACkD;AACT;AACA;AAEtD,aAAa;AAC2D;AACR;AACE;AAElE,QAAQ;AACqD;AACI;AA6BjE;IAAA;IAA4B,CAAC;IAAhB,YAAY;QA3BxB,8DAAQ,CAAC;YACR,YAAY,EAAE;gBACZ,2EAAgB;gBAChB,kEAAa;gBACb,kEAAa;gBACb,mFAAkB;gBAClB,2EAAc;gBACd,6EAAe;gBACf,yEAAe;gBACf,6EAAiB;aAClB;YACD,OAAO,EAAE;gBACP,4DAAY;gBACZ,4DAAY;gBACZ,kEAAmB;aACpB;YACD,OAAO,EAAE;gBACP,2EAAgB;gBAChB,kEAAa;gBACb,kEAAa;gBACb,mFAAkB;gBAClB,2EAAc;gBACd,6EAAe;gBACf,yEAAe;gBACf,6EAAiB;aAClB;SACF,CAAC;OACW,YAAY,CAAI;IAAD,mBAAC;CAAA;AAAJ;;;;;;;;;;;;;;;ACjDlB,IAAM,WAAW,GAAG;IACzB,UAAU,EAAE,IAAI;IAChB,SAAS,EAAE,iCAAiC;CAC7C,CAAC;;;;;;;;;;;;;;;;;;ACH6C;AAC4B;AAE9B;AACY;AAEzD,EAAE,CAAC,CAAC,qEAAW,CAAC,UAAU,CAAC,CAAC,CAAC;IAC3B,oEAAc,EAAE,CAAC;AACnB,CAAC;AAED,gGAAsB,EAAE,CAAC,eAAe,CAAC,yDAAS,CAAC;KAChD,KAAK,CAAC,aAAG,IAAI,cAAO,CAAC,GAAG,CAAC,GAAG,CAAC,EAAhB,CAAgB,CAAC,CAAC","file":"main.js","sourcesContent":["var map = {\n\t\"./components/book/book.module\": [\n\t\t\"./src/app/components/book/book.module.ts\",\n\t\t\"components-book-book-module\"\n\t],\n\t\"./components/user/user.module\": [\n\t\t\"./src/app/components/user/user.module.ts\",\n\t\t\"components-user-user-module\"\n\t]\n};\nfunction webpackAsyncContext(req) {\n\tvar ids = map[req];\n\tif(!ids) {\n\t\treturn Promise.resolve().then(function() {\n\t\t\tvar e = new Error('Cannot find module \"' + req + '\".');\n\t\t\te.code = 'MODULE_NOT_FOUND';\n\t\t\tthrow e;\n\t\t});\n\t}\n\treturn __webpack_require__.e(ids[1]).then(function() {\n\t\tvar module = __webpack_require__(ids[0]);\n\t\treturn module;\n\t});\n}\nwebpackAsyncContext.keys = function webpackAsyncContextKeys() {\n\treturn Object.keys(map);\n};\nwebpackAsyncContext.id = \"./src/$$_lazy_route_resource lazy recursive\";\nmodule.exports = webpackAsyncContext;","module.exports = \"\"","module.exports = \"<div id=\\\"wrapper\\\">\\r\\n  <app-header></app-header>\\r\\n  <main>\\r\\n    <router-outlet></router-outlet>\\r\\n  </main>\\r\\n  <app-footer></app-footer>\\r\\n</div>\"","// Decorators\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-root',\r\n  templateUrl: './app.component.html',\r\n  styleUrls: ['./app.component.css']\r\n})\r\nexport class AppComponent { }\r\n","// Decorators\r\nimport { NgModule } from '@angular/core';\r\n\r\n// Modules\r\nimport { BrowserModule } from '@angular/platform-browser';\r\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations';\r\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\r\nimport { ToastrModule } from 'ngx-toastr';\r\nimport { MyCommonModule } from './components/common/my-common.module';\r\nimport { SharedModule } from './core/shared/shared.module';\r\nimport { AppRoutingModule } from './app.routing.module';\r\nimport { ModalModule } from 'ngx-bootstrap/modal';\r\n\r\n// Components\r\nimport { AppComponent } from './app.component';\r\nimport { HomeComponent } from './components/landing/home/home.component';\r\n\r\n// Interceptors\r\nimport { JwtInterceptor } from './core/interceptors/jwt.interceptor';\r\nimport { SuccessInterceptor } from './core/interceptors/success.interceptor';\r\nimport { ErrorInterceptor } from './core/interceptors/error.interceptor';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    AppComponent,\r\n    HomeComponent\r\n  ],\r\n  imports: [\r\n    BrowserModule,\r\n    HttpClientModule,\r\n    BrowserAnimationsModule,\r\n    ToastrModule.forRoot({\r\n      newestOnTop: false\r\n    }),\r\n    ModalModule.forRoot(),\r\n    MyCommonModule,\r\n    SharedModule,\r\n    AppRoutingModule,\r\n  ],\r\n  providers: [\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: JwtInterceptor,\r\n      multi: true\r\n    },\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: SuccessInterceptor,\r\n      multi: true\r\n    },\r\n    {\r\n      provide: HTTP_INTERCEPTORS,\r\n      useClass: ErrorInterceptor,\r\n      multi: true\r\n    }\r\n  ],\r\n  bootstrap: [\r\n    AppComponent\r\n  ]\r\n})\r\nexport class AppModule { }\r\n","// Decorators\r\nimport { NgModule } from '@angular/core';\r\n\r\n// Modules\r\nimport { RouterModule, Routes, PreloadAllModules } from '@angular/router';\r\n\r\n// Components\r\nimport { HomeComponent } from './components/landing/home/home.component';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: 'user',\r\n    loadChildren: './components/user/user.module#UserModule'\r\n  },\r\n  {\r\n    path: 'book',\r\n    loadChildren: './components/book/book.module#BookModule'\r\n  },\r\n  {\r\n    path: 'home',\r\n    component: HomeComponent\r\n  },\r\n  {\r\n    path: '',\r\n    redirectTo: 'home',\r\n    pathMatch: 'full'\r\n  },\r\n  {\r\n    path: '**',\r\n    redirectTo: 'home'\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [\r\n    RouterModule.forRoot(\r\n      routes,\r\n      { preloadingStrategy: PreloadAllModules }\r\n    )],\r\n  exports: [RouterModule]\r\n})\r\nexport class AppRoutingModule { }\r\n","module.exports = \"footer {\\r\\n  background-color: #313532;\\r\\n  padding: 60px 20px;\\r\\n  text-transform: uppercase;\\r\\n  font-size: 15px;\\r\\n}\\r\\n\\r\\nfooter span {\\r\\n  margin-top: 30px;\\r\\n}\\r\\n\\r\\n.left {\\r\\n  float: left;\\r\\n}\\r\\n\\r\\n.right {\\r\\n  float: right;\\r\\n}\\r\\n\\r\\n.fab {\\r\\n  margin-left: 20px;\\r\\n  font-size: 60px;\\r\\n}\\r\\n\\r\\n.fa-js {\\r\\n  color: #F7E018;\\r\\n}\\r\\n\\r\\n.fa-angular {\\r\\n  color: #C3002F;\\r\\n}\\r\\n\\r\\n.fa-github {\\r\\n  color: #FFF;\\r\\n}\"","module.exports = \"<footer>\\r\\n  <span class=\\\"left\\\">\\r\\n    Book Store Web App</span>\\r\\n  <a href=\\\"https://developer.mozilla.org\\\">\\r\\n    <i class=\\\"fab fa-js\\\" aria-hidden=\\\"true\\\"></i>\\r\\n  </a>\\r\\n  <a href=\\\"https://angular.io\\\">\\r\\n    <i class=\\\"fab fa-angular\\\" aria-hidden=\\\"true\\\"></i>\\r\\n  </a>\\r\\n  <a href=\\\"https://github.com/GokulSreejith\\\">\\r\\n    <i class=\\\"fab fa-github\\\" aria-hidden=\\\"true\\\"></i>\\r\\n  </a>\\r\\n  <span class=\\\"right\\\"> &copy; 2022 Book Store - all rights reserved</span>\\r\\n</footer>\"","// Decorators\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-footer',\r\n  templateUrl: './footer.component.html',\r\n  styleUrls: ['./footer.component.css']\r\n})\r\nexport class FooterComponent { }\r\n","module.exports = \"\"","module.exports = \"<header>\\r\\n  <app-navigation></app-navigation>\\r\\n</header>\"","// Decorators\r\nimport { Component } from '@angular/core';\r\n\r\n@Component({\r\n  selector: 'app-header',\r\n  templateUrl: './header.component.html',\r\n  styleUrls: ['./header.component.css']\r\n})\r\nexport class HeaderComponent { }\r\n","// Decorators\r\nimport { NgModule } from '@angular/core';\r\n\r\n// Modules\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n// Components\r\nimport { HeaderComponent } from './header/header.component';\r\nimport { NavigationComponent } from './navigation/navigation.component';\r\nimport { FooterComponent } from './footer/footer.component';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    HeaderComponent,\r\n    NavigationComponent,\r\n    FooterComponent,\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports: [\r\n    HeaderComponent,\r\n    FooterComponent\r\n  ]\r\n})\r\nexport class MyCommonModule { }\r\n","module.exports = \".topnav {\\r\\n  overflow: hidden;\\r\\n  background-color: #313532;\\r\\n}\\r\\n\\r\\n.topnav>a {\\r\\n  float: left;\\r\\n  display: block;\\r\\n  color: #FFF;\\r\\n  text-align: center;\\r\\n  padding: 25px 18px;\\r\\n  text-decoration: none;\\r\\n  font-size: 17px;\\r\\n}\\r\\n\\r\\n.topnav a:hover {\\r\\n  background-color: #F5B324;\\r\\n  color: #000;\\r\\n}\\r\\n\\r\\n.topnav a.active {\\r\\n  background-color: #2196F3;\\r\\n  color: #FFF;\\r\\n}\\r\\n\\r\\n.topnav .search-container {\\r\\n  float: left;\\r\\n  margin-left: 5px;\\r\\n}\\r\\n\\r\\n.topnav .search-container button {\\r\\n  padding: 8px 10px;\\r\\n  margin-top: 8px;\\r\\n  margin-right: 16px;\\r\\n  background: #DDD;\\r\\n  font-size: 17px;\\r\\n  border: none;\\r\\n  cursor: pointer;\\r\\n}\\r\\n\\r\\n.topnav input[type=text] {\\r\\n  padding: 8px;\\r\\n  width: 250px;\\r\\n  margin-top: 15px;\\r\\n  font-size: 17px;\\r\\n  border: none;\\r\\n}\\r\\n\\r\\n.topnav .search-container button:hover {\\r\\n  background: #CCC;\\r\\n}\\r\\n\\r\\n.menu-item-right {\\r\\n  float: right;\\r\\n  display: block;\\r\\n  color: #FFF;\\r\\n  text-align: center;\\r\\n  padding: 25px 18px;\\r\\n  text-decoration: none;\\r\\n  font-size: 17px;\\r\\n}\\r\\n\\r\\n@media screen and (max-width: 600px) {\\r\\n  .topnav .search-container {\\r\\n    float: none;\\r\\n  }\\r\\n  .topnav a, .topnav input[type=text], .topnav .search-container button {\\r\\n    float: none;\\r\\n    display: block;\\r\\n    text-align: left;\\r\\n    width: 100%;\\r\\n    margin: 0;\\r\\n    padding: 14px;\\r\\n  }\\r\\n  .topnav input[type=text] {\\r\\n    border: 1px solid #CCC;\\r\\n  }\\r\\n}\"","module.exports = \"<nav class=\\\"topnav\\\">\\r\\n  <a routerLink=\\\"/home\\\">Home</a>\\r\\n  <a routerLink=\\\"/book/store/default\\\">Book Store</a>\\r\\n  <ng-template [ngIf]=\\\"isUserLogged()\\\">\\r\\n    <a routerLink=\\\"/user/profile/mine\\\">My Profile</a>\\r\\n    <a routerLink=\\\"/user/purchaseHistory\\\">My Purchase History</a>\\r\\n    <a *ngIf=\\\"isUserAdmin()\\\" routerLink=\\\"/book/create\\\">Create Book</a>\\r\\n  </ng-template>\\r\\n  <div class=\\\"search-container\\\">\\r\\n    <form #formDir=\\\"ngForm\\\" [formGroup]=\\\"searchForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n      <input type=\\\"text\\\" name=\\\"query\\\" placeholder=\\\"title, author, genre, ISBN...\\\" formControlName=\\\"query\\\" />\\r\\n      <button type=\\\"submit\\\" [disabled]=\\\"searchForm.invalid\\\"><i class=\\\"fa fa-search\\\"></i></button>\\r\\n    </form>\\r\\n  </div>\\r\\n  <div>\\r\\n    <ng-template [ngIf]=\\\"!isUserLogged()\\\">\\r\\n      <a class=\\\"menu-item-right\\\" routerLink=\\\"/user/register\\\">Register</a>\\r\\n      <a class=\\\"menu-item-right\\\" routerLink=\\\"/user/login\\\">Login</a>\\r\\n    </ng-template>\\r\\n    <ng-template [ngIf]=\\\"isUserLogged()\\\">\\r\\n      <a class=\\\"menu-item-right\\\" routerLink=\\\"/home\\\" (click)=\\\"logout()\\\">\\r\\n        {{getUsername()}}\\r\\n        <span>Hello, {{username}}</span> Logout\\r\\n      </a>\\r\\n      <a class=\\\"menu-item-right\\\" routerLink=\\\"/user/cart\\\">Cart ({{cartItems}})</a>\\r\\n    </ng-template>\\r\\n  </div>\\r\\n</nav>\"","// Decorators and Lifehooks\r\nimport { Component, OnInit, OnDestroy } from '@angular/core';\r\n\r\n// Forms\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n// Router\r\nimport { Router } from '@angular/router';\r\n\r\n// RXJS\r\nimport { Subscription } from 'rxjs';\r\n\r\n// Services\r\nimport { HelperService } from '../../../core/services/helper.service';\r\nimport { CartService } from '../../../core/services/cart.service';\r\n\r\n@Component({\r\n  selector: 'app-navigation',\r\n  templateUrl: './navigation.component.html',\r\n  styleUrls: ['./navigation.component.css']\r\n})\r\nexport class NavigationComponent implements OnInit, OnDestroy {\r\n  searchForm: FormGroup;\r\n  isLoggedSub$: Subscription;\r\n  cartStatusSub$: Subscription;\r\n  username: string;\r\n  isLogged: boolean;\r\n  isAdmin: boolean;\r\n  statusChecker: number;\r\n  cartItems: number;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private helperService: HelperService,\r\n    private cartService: CartService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.statusChecker = window.setInterval(() => this.tick(), 600000);\r\n    this.isLogged = this.helperService.isLoggedIn();\r\n    this.initForm();\r\n    if (this.isLogged) {\r\n      this.getCartSize();\r\n    }\r\n\r\n    this.isLoggedSub$ = this.helperService\r\n      .isUserLogged\r\n      .subscribe((data) => {\r\n        this.isLogged = data;\r\n      });\r\n\r\n    this.cartStatusSub$ = this.helperService\r\n      .cartStatus\r\n      .subscribe((data) => {\r\n        if (data === 'add') {\r\n          this.cartItems++;\r\n        } else if (data === 'remove') {\r\n          this.cartItems--;\r\n        } else if (data === 'updateStatus') {\r\n          this.getCartSize();\r\n        }\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    window.clearInterval(this.statusChecker);\r\n    this.isLoggedSub$.unsubscribe();\r\n    this.cartStatusSub$.unsubscribe();\r\n  }\r\n\r\n  initForm(): void {\r\n    this.searchForm = new FormGroup({\r\n      'query': new FormControl('', [\r\n        Validators.required\r\n      ])\r\n    });\r\n  }\r\n\r\n  onSubmit(): void {\r\n    const query: string = this.searchForm.value.query.trim();\r\n    if (query.length !== 0) {\r\n      this.router.navigate([`/book/store/${query}`]);\r\n      this.helperService.searchQuery.next();\r\n    }\r\n  }\r\n\r\n  tick(): void {\r\n    this.isLogged = this.helperService.isLoggedIn();\r\n  }\r\n\r\n  isUserLogged(): boolean {\r\n    return this.isLogged;\r\n  }\r\n\r\n  isUserAdmin(): boolean {\r\n    if (!this.isAdmin) {\r\n      this.isAdmin = this.helperService.isAdmin();\r\n    }\r\n\r\n    return this.isAdmin;\r\n  }\r\n\r\n  getUsername(): void {\r\n    if (!this.username) {\r\n      this.username = this.helperService.getProfile().username;\r\n    }\r\n  }\r\n\r\n  getCartSize(): void {\r\n    this.cartService\r\n      .getCartSize()\r\n      .subscribe((res) => {\r\n        this.cartItems = res.data;\r\n      });\r\n  }\r\n\r\n  logout(): void {\r\n    this.username = undefined;\r\n    this.isAdmin = undefined;\r\n    this.cartItems = undefined;\r\n    this.helperService.clearSession();\r\n    this.helperService.isUserLogged.next(false);\r\n  }\r\n}\r\n","module.exports = \"h1 {\\r\\n  font-family: 'Shojumaru', cursive;\\r\\n  font-size: 50px;\\r\\n  font-weight: bold;\\r\\n  text-transform: uppercase;\\r\\n  margin-top: 50px;\\r\\n  color: #CCC;\\r\\n}\\r\\n\\r\\n.books-home {\\r\\n  margin: 30px auto;\\r\\n}\\r\\n\\r\\n.panel h2 {\\r\\n  font-family: 'Wendy One', sans-serif;\\r\\n  font-size: 30px;\\r\\n  font-weight: bold;\\r\\n  margin-bottom: 10px;\\r\\n  margin-left: 145px;\\r\\n  text-align: left;\\r\\n}\"","module.exports = \"<h1>Welcome to our Book Store</h1>\\r\\n<div *ngIf=\\\"mostPurchasedBooks\\\" class=\\\"books-home\\\">\\r\\n  <div class=\\\"panel\\\">\\r\\n    <h2>Most Purchased Books</h2>\\r\\n  </div>\\r\\n  <app-book *ngFor=\\\"let book of mostPurchasedBooks\\\" [book]=\\\"book\\\"></app-book>\\r\\n</div>\\r\\n<div *ngIf=\\\"bestRatedBooks\\\" class=\\\"books-home\\\">\\r\\n  <div class=\\\"panel\\\">\\r\\n    <h2>Best Rated Books</h2>\\r\\n  </div>\\r\\n  <app-book *ngFor=\\\"let book of bestRatedBooks\\\" [book]=\\\"book\\\"></app-book>\\r\\n</div>\\r\\n<div *ngIf=\\\"newestBooks\\\" class=\\\"books-home\\\">\\r\\n  <div class=\\\"panel\\\">\\r\\n    <h2>Newest Books</h2>\\r\\n  </div>\\r\\n  <app-book *ngFor=\\\"let book of newestBooks\\\" [book]=\\\"book\\\"></app-book>\\r\\n</div>\"","// Decorators and Lifehooks\r\nimport { Component, OnInit } from '@angular/core';\r\n\r\n// Services\r\nimport { BookService } from '../../../core/services/book.service';\r\n\r\n// Models\r\nimport { Book } from '../../../core/models/book.model';\r\n\r\nconst newestBooksQuery = '?sort={\"creationDate\":-1}&limit=5';\r\nconst bestRatedBooksQuery = '?sort={\"currentRating\":-1}&limit=5';\r\nconst mostPurchasedBooksQuery = '?sort={\"purchasesCount\":-1}&limit=5';\r\n\r\n@Component({\r\n  selector: 'app-home',\r\n  templateUrl: './home.component.html',\r\n  styleUrls: ['./home.component.css']\r\n})\r\nexport class HomeComponent implements OnInit {\r\n  newestBooks: Book[];\r\n  bestRatedBooks: Book[];\r\n  mostPurchasedBooks: Book[];\r\n\r\n  constructor(private bookService: BookService) { }\r\n\r\n  ngOnInit(): void {\r\n    this.bookService\r\n      .search(newestBooksQuery)\r\n      .subscribe((res) => {\r\n        this.newestBooks = res.data;\r\n      });\r\n\r\n    this.bookService\r\n      .search(bestRatedBooksQuery)\r\n      .subscribe((res) => {\r\n        this.bestRatedBooks = res.data;\r\n      });\r\n\r\n    this.bookService\r\n      .search(mostPurchasedBooksQuery)\r\n      .subscribe((res) => {\r\n        this.mostPurchasedBooks = res.data;\r\n      });\r\n  }\r\n\r\n}\r\n","// Decorators\r\nimport { Directive } from '@angular/core';\r\n\r\n// Forms\r\nimport {\r\n  AbstractControl,\r\n  NG_VALIDATORS,\r\n  ValidationErrors,\r\n  Validator,\r\n  ValidatorFn\r\n} from '@angular/forms';\r\n\r\n// Validator\r\nimport isISBN from 'validator/lib/isISBN';\r\n\r\nexport const isIsbnValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\r\n  const isControlIsbn = isISBN(control.value);\r\n  return !isControlIsbn ? { 'isIsbn': false } : null;\r\n};\r\n\r\n@Directive({\r\n  selector: '[appIsIsbn]',\r\n  providers: [{\r\n    provide: NG_VALIDATORS,\r\n    useExisting: IsIsbnDirective,\r\n    multi: true\r\n  }]\r\n})\r\nexport class IsIsbnDirective implements Validator {\r\n  validate(control: AbstractControl): ValidationErrors | null {\r\n    return isIsbnValidator(control);\r\n  }\r\n}\r\n","// Decorators\r\nimport { Directive } from '@angular/core';\r\n\r\n// Forms\r\nimport {\r\n  AbstractControl,\r\n  NG_VALIDATORS,\r\n  ValidationErrors,\r\n  Validator,\r\n  ValidatorFn\r\n} from '@angular/forms';\r\n\r\n// Validator\r\nimport isURL from 'validator/lib/isURL';\r\n\r\nexport const isUrlValidator: ValidatorFn = (control: AbstractControl): ValidationErrors | null => {\r\n  const isControlUrl = isURL(control.value);\r\n  return !isControlUrl ? { 'isUrl': false } : null;\r\n};\r\n\r\n@Directive({\r\n  selector: '[appIsUrl]',\r\n  providers: [{\r\n    provide: NG_VALIDATORS,\r\n    useExisting: IsUrlDirective,\r\n    multi: true\r\n  }]\r\n})\r\nexport class IsUrlDirective implements Validator {\r\n  validate(control: AbstractControl): ValidationErrors | null {\r\n    return isUrlValidator(control);\r\n  }\r\n}\r\n","// Decorators\r\nimport { Directive } from '@angular/core';\r\n\r\n// Forms\r\nimport {\r\n  AbstractControl,\r\n  FormGroup,\r\n  NG_VALIDATORS,\r\n  ValidationErrors,\r\n  Validator,\r\n  ValidatorFn\r\n} from '@angular/forms';\r\n\r\nexport const mustMatchValidator: ValidatorFn = (control: FormGroup): ValidationErrors | null => {\r\n  const password = control.get('password');\r\n  const confirmPasssword = control.get('confirmPassword');\r\n\r\n  return password && confirmPasssword && password.value !== confirmPasssword.value ? { 'mustMatch': true } : null;\r\n};\r\n\r\n@Directive({\r\n  selector: '[appMustMatch]',\r\n  providers: [{\r\n    provide: NG_VALIDATORS,\r\n    useExisting: MustMatchDirective,\r\n    multi: true\r\n  }]\r\n})\r\nexport class MustMatchDirective implements Validator {\r\n  validate(control: AbstractControl): ValidationErrors | null {\r\n    return mustMatchValidator(control);\r\n  }\r\n}\r\n","// Decorators\r\nimport { Injectable } from '@angular/core';\r\n\r\n// RXJS\r\nimport { Observable, throwError } from 'rxjs';\r\nimport { catchError } from 'rxjs/operators';\r\n\r\n// HTTP\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor,\r\n  HttpErrorResponse\r\n} from '@angular/common/http';\r\n\r\n// Services\r\nimport { ToastrService } from 'ngx-toastr';\r\n\r\n@Injectable()\r\nexport class ErrorInterceptor implements HttpInterceptor {\r\n\r\n  constructor(private toastr: ToastrService) { }\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    return next.handle(request)\r\n      .pipe(\r\n        catchError((err: HttpErrorResponse) => {\r\n          if (err.error instanceof ProgressEvent) {\r\n            // A client-side or network error occurred\r\n            this.toastr.error('Network Error!');\r\n          } else {\r\n            // The backend returned an unsuccessful response code\r\n            this.toastr.error(err.error.message, `${err.status.toString()} - ${err.statusText}`);\r\n            if (err.error.errors) {\r\n              for (const e in err.error.errors) {\r\n                if (err.error.errors.hasOwnProperty(e)) {\r\n                  this.toastr.error(err.error.errors[e]);\r\n                }\r\n              }\r\n            }\r\n          }\r\n\r\n          return throwError(err.error);\r\n        }));\r\n  }\r\n}\r\n","// Decorators\r\nimport { Injectable } from '@angular/core';\r\n\r\n// RXJS\r\nimport { Observable } from 'rxjs';\r\n\r\n// HTTP\r\nimport {\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor\r\n} from '@angular/common/http';\r\n\r\n// Services\r\nimport { HelperService } from '../services/helper.service';\r\n\r\n@Injectable()\r\nexport class JwtInterceptor implements HttpInterceptor {\r\n\r\n  constructor(private heplerService: HelperService) { }\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    if (this.heplerService.isLoggedIn()) {\r\n      request = request.clone({\r\n        setHeaders: {\r\n          'Accept': 'application/json',\r\n          'Content-Type': 'application/json',\r\n          'Authorization': 'Bearer ' + this.heplerService.getToken()\r\n        }\r\n      });\r\n    }\r\n\r\n    return next.handle(request);\r\n  }\r\n\r\n}\r\n","// Decorators\r\nimport { Injectable } from '@angular/core';\r\n\r\n// RXJS\r\nimport { Observable } from 'rxjs';\r\nimport { tap } from 'rxjs/operators';\r\n\r\n// HTTP\r\nimport {\r\n  HttpResponse,\r\n  HttpRequest,\r\n  HttpHandler,\r\n  HttpEvent,\r\n  HttpInterceptor\r\n} from '@angular/common/http';\r\n\r\n// Services\r\nimport { ToastrService } from 'ngx-toastr';\r\nimport { HelperService } from '../services/helper.service';\r\n\r\n@Injectable()\r\nexport class SuccessInterceptor implements HttpInterceptor {\r\n\r\n  constructor(\r\n    private toastr: ToastrService,\r\n    private helperService: HelperService\r\n  ) { }\r\n\r\n  intercept(request: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n    return next.handle(request)\r\n      .pipe(\r\n        tap(\r\n          (event: HttpEvent<any>) => {\r\n            if (event instanceof HttpResponse) {\r\n              if (event.body.message || event.body.message !== '') {\r\n                this.toastr.success(event.body.message);\r\n              }\r\n            }\r\n\r\n            if (event instanceof HttpResponse && request.url.endsWith('login') ||\r\n              event instanceof HttpResponse && request.url.endsWith('register')) {\r\n              this.helperService.saveSession(event.body.data);\r\n              this.helperService.isUserLogged.next(true);\r\n              this.helperService.cartStatus.next('updateStatus');\r\n            }\r\n          }\r\n        )\r\n      );\r\n  }\r\n}\r\n","import { Comment } from './comment.model';\r\n\r\nexport class Book {\r\n  constructor(\r\n    public _id: string,\r\n    public title: string,\r\n    public author: string,\r\n    public genre: string,\r\n    public year: number,\r\n    public description: string,\r\n    public cover: string,\r\n    public isbn: string,\r\n    public pagesCount: number,\r\n    public price: number,\r\n    public qty?: number,\r\n    public creationDate?: Date,\r\n    public currentRating?: number,\r\n    public ratingPoints?: number,\r\n    public ratedCount?: number,\r\n    public purchasesCount?: number,\r\n    public comments?: Comment[]\r\n  ) { }\r\n}\r\n","// Decorators\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\nfunction calcTime(dateIsoFormat: string) {\r\n  let diff = new Date().getTime() - (new Date(dateIsoFormat).getTime());\r\n  diff = Math.floor(diff / 60000);\r\n\r\n  if (diff < 1) {\r\n    return 'less than a minute';\r\n  }\r\n\r\n  if (diff < 60) {\r\n    return diff + ' minute' + pluralize(diff);\r\n  }\r\n\r\n  diff = Math.floor(diff / 60);\r\n\r\n  if (diff < 24) {\r\n    return diff + ' hour' + pluralize(diff);\r\n  }\r\n\r\n  diff = Math.floor(diff / 24);\r\n\r\n  if (diff < 30) {\r\n    return diff + ' day' + pluralize(diff);\r\n  }\r\n\r\n  diff = Math.floor(diff / 30);\r\n\r\n  if (diff < 12) {\r\n    return diff + ' month' + pluralize(diff);\r\n  }\r\n\r\n  diff = Math.floor(diff / 12);\r\n\r\n  return diff + ' year' + pluralize(diff);\r\n\r\n  function pluralize(value) {\r\n    if (value !== 1) {\r\n      return 's';\r\n    } else {\r\n      return '';\r\n    }\r\n  }\r\n}\r\n\r\n@Pipe({\r\n  name: 'commentTime',\r\n  pure: true\r\n})\r\nexport class CommentTimePipe implements PipeTransform {\r\n  transform(value: string, args?: any): any {\r\n    return calcTime(value);\r\n  }\r\n\r\n}\r\n","// Decorators\r\nimport { Pipe, PipeTransform } from '@angular/core';\r\n\r\n@Pipe({\r\n  name: 'shortenString',\r\n  pure: true\r\n})\r\nexport class ShortenStringPipe implements PipeTransform {\r\n  transform(value: string, len: number): string {\r\n    if (value.length <= len) {\r\n      return value;\r\n    }\r\n\r\n    return value.slice(0, len) + '...';\r\n  }\r\n\r\n}\r\n","// Decorators\r\nimport { Injectable } from \"@angular/core\";\r\n\r\n// RXJS\r\nimport { Observable } from \"rxjs\";\r\n\r\n// HTTP\r\nimport { HttpClient } from \"@angular/common/http\";\r\n\r\n// Models\r\nimport { ServerResponse } from \"../models/server-response.model\";\r\nimport { Book } from \"../models/book.model\";\r\n\r\nimport { environment } from \"../../../environments/environment\";\r\n\r\nconst domain = environment.serverURL;\r\nconst getSingleBookEndpoint = domain + \"/book/details/\";\r\nconst createBookEndpoint = domain + \"/book/add\";\r\nconst editBookEndpoint = domain + \"/book/edit/\";\r\nconst deleteBookEndpoint = domain + \"/book/delete/\";\r\nconst rateBookEndpoint = domain + \"/book/rate/\";\r\nconst addToFavoritesEndpoint = domain + \"/book/addToFavorites/\";\r\nconst searchBookEndpoint = domain + \"/book/search\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class BookService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getSingleBook(id: string): Observable<ServerResponse<Book>> {\r\n    return this.http.get<ServerResponse<Book>>(getSingleBookEndpoint + id);\r\n  }\r\n\r\n  createBook(payload: Book): Observable<ServerResponse<Book>> {\r\n    return this.http.post<ServerResponse<Book>>(createBookEndpoint, payload);\r\n  }\r\n\r\n  editBook(id: string, payload: Book): Observable<ServerResponse<Book>> {\r\n    return this.http.put<ServerResponse<Book>>(editBookEndpoint + id, payload);\r\n  }\r\n\r\n  deleteBook(id: string): Observable<ServerResponse<Book>> {\r\n    return this.http.delete<ServerResponse<Book>>(deleteBookEndpoint + id);\r\n  }\r\n\r\n  rateBook(id: string, payload: object): Observable<ServerResponse<Book>> {\r\n    return this.http.post<ServerResponse<Book>>(rateBookEndpoint + id, payload);\r\n  }\r\n\r\n  addToFavourites(id: string): Observable<ServerResponse<Book>> {\r\n    return this.http.post<ServerResponse<Book>>(\r\n      addToFavoritesEndpoint + id,\r\n      {}\r\n    );\r\n  }\r\n\r\n  search(query: string): Observable<ServerResponse<Book[]>> {\r\n    return this.http.get<ServerResponse<Book[]>>(searchBookEndpoint + query);\r\n  }\r\n}\r\n","// Decorators\r\nimport { Injectable } from \"@angular/core\";\r\n\r\n// RXJS\r\nimport { Observable } from \"rxjs\";\r\nimport { map } from \"rxjs/operators\";\r\n\r\n// HTTP\r\nimport { HttpClient } from \"@angular/common/http\";\r\n\r\n// Models\r\nimport { ServerResponse } from \"../models/server-response.model\";\r\nimport { Cart } from \"../models/cart.model\";\r\n\r\nimport { environment } from \"../../../environments/environment\";\r\n\r\nconst domain = environment.serverURL;\r\nconst baseUrl = domain + \"/user/cart\";\r\nconst getCartSizeEndpoint = domain + \"/cart/getSize\";\r\nconst addToCartEndpoint = \"/add/\";\r\nconst removeFromCartEndpoint = \"/delete/\";\r\nconst checkoutEndpoint = \"/checkout\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class CartService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getCartSize(): Observable<ServerResponse<number>> {\r\n    return this.http.get<ServerResponse<number>>(getCartSizeEndpoint);\r\n  }\r\n\r\n  getCart(): Observable<ServerResponse<Cart>> {\r\n    return this.http.get<ServerResponse<Cart>>(baseUrl).pipe(\r\n      map((res) => {\r\n        res.data.books.map((b) => (b.qty = 1));\r\n        return res;\r\n      })\r\n    );\r\n  }\r\n\r\n  addToCart(id: string): Observable<ServerResponse<Cart>> {\r\n    return this.http.post<ServerResponse<Cart>>(\r\n      baseUrl + addToCartEndpoint + id,\r\n      {}\r\n    );\r\n  }\r\n\r\n  removeFromCart(id: string): Observable<ServerResponse<Cart>> {\r\n    return this.http.delete<ServerResponse<Cart>>(\r\n      baseUrl + removeFromCartEndpoint + id\r\n    );\r\n  }\r\n\r\n  checkout(payload: object): Observable<ServerResponse<object>> {\r\n    return this.http.post<ServerResponse<object>>(\r\n      baseUrl + checkoutEndpoint,\r\n      payload\r\n    );\r\n  }\r\n}\r\n","// Decorators\r\nimport { Injectable } from \"@angular/core\";\r\n\r\n// RXJS\r\nimport { Observable } from \"rxjs\";\r\n\r\n// HTTP\r\nimport { HttpClient } from \"@angular/common/http\";\r\n\r\n// Models\r\nimport { ServerResponse } from \"../models/server-response.model\";\r\nimport { Comment } from \"../models/comment.model\";\r\n\r\nimport { environment } from \"../../../environments/environment\";\r\n\r\nconst baseUrl = environment.serverURL + \"/comment\";\r\nconst addCommentEndpoint = \"/add/\";\r\nconst editCommentEndpoint = \"/edit/\";\r\nconst deleteCommentEndpoint = \"/delete/\";\r\nconst getLatestFiveEndpont = \"/getLatestFiveByUser/\";\r\n\r\n@Injectable({\r\n  providedIn: \"root\",\r\n})\r\nexport class CommentService {\r\n  constructor(private http: HttpClient) {}\r\n\r\n  getComments(id: string, page: string): Observable<ServerResponse<Comment[]>> {\r\n    return this.http.get<ServerResponse<Comment[]>>(`${baseUrl}/${id}/${page}`);\r\n  }\r\n\r\n  getLatestFiveComments(id: string): Observable<ServerResponse<Comment[]>> {\r\n    return this.http.get<ServerResponse<Comment[]>>(\r\n      baseUrl + getLatestFiveEndpont + id\r\n    );\r\n  }\r\n\r\n  addComment(\r\n    id: string,\r\n    payload: Comment\r\n  ): Observable<ServerResponse<Comment>> {\r\n    return this.http.post<ServerResponse<Comment>>(\r\n      baseUrl + addCommentEndpoint + id,\r\n      payload\r\n    );\r\n  }\r\n\r\n  editComment(\r\n    id: string,\r\n    payload: Comment\r\n  ): Observable<ServerResponse<Comment>> {\r\n    return this.http.put<ServerResponse<Comment>>(\r\n      baseUrl + editCommentEndpoint + id,\r\n      payload\r\n    );\r\n  }\r\n\r\n  deleteComment(id: string): Observable<ServerResponse<object>> {\r\n    return this.http.delete<ServerResponse<object>>(\r\n      baseUrl + deleteCommentEndpoint + id\r\n    );\r\n  }\r\n}\r\n","// Decorators\r\nimport { Injectable } from '@angular/core';\r\n\r\n// RXJS\r\nimport { Subject } from 'rxjs';\r\n\r\n// JWT Decoding\r\nimport decode from 'jwt-decode';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class HelperService {\r\n  isUserLogged = new Subject<boolean>();\r\n  searchQuery = new Subject<string>();\r\n  cartStatus = new Subject<string>();\r\n\r\n  saveSession(token): void {\r\n    localStorage.setItem('token', token);\r\n  }\r\n\r\n  clearSession(): void {\r\n    localStorage.clear();\r\n  }\r\n\r\n  getProfile(): any {\r\n    try {\r\n      const decoded = decode(this.getToken());\r\n\r\n      return decoded.sub;\r\n    } catch (err) {\r\n      return {};\r\n    }\r\n  }\r\n\r\n  isLoggedIn(): boolean {\r\n    try {\r\n      const decoded = decode(this.getToken());\r\n\r\n      if (decoded.exp > Date.now() / 1000) {\r\n        return true;\r\n      }\r\n\r\n      return false;\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  isAdmin(): boolean {\r\n    try {\r\n      const decoded = decode(this.getToken());\r\n\r\n      if (decoded.exp < Date.now() / 1000 || !decoded.sub.isAdmin) {\r\n        return false;\r\n      }\r\n\r\n      return true;\r\n    } catch (err) {\r\n      return false;\r\n    }\r\n  }\r\n\r\n  getToken(): string {\r\n    return localStorage.getItem('token');\r\n  }\r\n}\r\n","module.exports = \".book-card {\\r\\n  border: 5px solid transparent;\\r\\n  display: inline-block;\\r\\n  vertical-align: top;\\r\\n  margin: 10px;\\r\\n  width: 15%;\\r\\n}\\r\\n\\r\\n.book-card img {\\r\\n  width: 100%;\\r\\n  height: 350px;\\r\\n}\\r\\n\\r\\n.book-card h5 {\\r\\n  display: inline-block;\\r\\n  font-size: 19px;\\r\\n}\\r\\n\\r\\n.book-card h5, .book-card h6, .book-card p {\\r\\n  margin: 10px 10px;\\r\\n}\\r\\n\\r\\n.book-card:hover {\\r\\n  background-color: #91A3B0;\\r\\n  border-color: #91A3B0;\\r\\n  color: #000;\\r\\n}\"","module.exports = \"<div class=\\\"book-card\\\">\\r\\n  <img src=\\\"{{book.cover}}\\\" alt=\\\"book-cover\\\">\\r\\n  <h5>{{book.title}}</h5>\\r\\n  <h6>{{book.author}}</h6>\\r\\n  <p>{{book.price}} &#36;</p>\\r\\n  <a class=\\\"btn btn-primary\\\" routerLink=\\\"/book/details/{{book._id}}\\\">View Details</a>\\r\\n</div>\"","// Decorators\r\nimport { Component, Input } from '@angular/core';\r\n\r\n// Models\r\nimport { Book } from '../../models/book.model';\r\n\r\n@Component({\r\n  selector: 'app-book',\r\n  templateUrl: './book.component.html',\r\n  styleUrls: ['./book.component.css']\r\n})\r\nexport class BookComponent {\r\n  @Input('book') book: Book;\r\n}\r\n","module.exports = \".shopping-cart {\\r\\n  width: 80%;\\r\\n  margin: 20px auto;\\r\\n}\\r\\n\\r\\n.pull-right {\\r\\n  margin: 5px;\\r\\n}\\r\\n\\r\\n.card-body {\\r\\n  background-color: #313532;\\r\\n}\\r\\n\\r\\n#book-price {\\r\\n  padding-top: 10px;\\r\\n}\\r\\n\\r\\n.text-muted {\\r\\n  margin-left: 5px;\\r\\n}\\r\\n\\r\\n.quantity {\\r\\n  float: left;\\r\\n  margin-right: 15px;\\r\\n  background-color: #EEE;\\r\\n  position: relative;\\r\\n  width: 80px;\\r\\n  overflow: hidden;\\r\\n}\\r\\n\\r\\n.quantity input {\\r\\n  margin: 0;\\r\\n  text-align: center;\\r\\n  width: 15px;\\r\\n  height: 15px;\\r\\n  padding: 0;\\r\\n  float: right;\\r\\n  color: #000;\\r\\n  font-size: 20px;\\r\\n  border: 0;\\r\\n  outline: 0;\\r\\n  background-color: #F6F6F6;\\r\\n}\\r\\n\\r\\n.quantity input.qty {\\r\\n  position: relative;\\r\\n  border: 0;\\r\\n  width: 100%;\\r\\n  height: 40px;\\r\\n  padding: 10px 25px 10px 10px;\\r\\n  text-align: center;\\r\\n  font-weight: 400;\\r\\n  font-size: 15px;\\r\\n  border-radius: 0;\\r\\n  background-clip: padding-box;\\r\\n}\\r\\n\\r\\n.alert {\\r\\n  width: 25%;\\r\\n  float: right;\\r\\n  font-size: 15px;\\r\\n}\"","module.exports = \"<div *ngIf=\\\"cart\\\">\\r\\n  <form #formDir=\\\"ngForm\\\" [formGroup]=\\\"cartForm\\\">\\r\\n    <div class=\\\"card shopping-cart\\\">\\r\\n      <div class=\\\"card-header bg-dark text-light\\\">\\r\\n        <i class=\\\"fa fa-shopping-cart\\\" aria-hidden=\\\"true\\\"></i>\\r\\n        Shopping Cart\\r\\n        <div class=\\\"pull-right\\\">\\r\\n          Total price: <b>{{cart.totalPrice | number:'1.2-2'}}&#x24;</b>\\r\\n        </div>\\r\\n        <div class=\\\"clearfix\\\"></div>\\r\\n      </div>\\r\\n      <div class=\\\"card-body\\\" *ngFor=\\\"let b of cart.books\\\">\\r\\n        <div class=\\\"row\\\">\\r\\n          <div class=\\\"col-12 col-sm-12 col-md-2 text-center\\\">\\r\\n            <img class=\\\"img-responsive\\\" src=\\\"{{b.cover}}\\\" alt=\\\"cover\\\" width=\\\"100\\\" height=\\\"150\\\">\\r\\n          </div>\\r\\n          <div class=\\\"col-12 text-sm-center col-sm-12 text-md-left col-md-6\\\">\\r\\n            <h4 class=\\\"product-name\\\"><strong>{{b.title}}</strong></h4>\\r\\n            <h4>\\r\\n              <small>{{b.author}}</small>\\r\\n            </h4>\\r\\n          </div>\\r\\n          <div class=\\\"col-12 col-sm-12 text-sm-center col-md-4 text-md-right row\\\">\\r\\n            <div id=\\\"book-price\\\" class=\\\"col-3 col-sm-3 col-md-6 text-md-right\\\" >\\r\\n              <h6>\\r\\n                <strong>\\r\\n                  {{b.price}} <span class=\\\"text-muted\\\">x</span>\\r\\n                </strong>\\r\\n              </h6>\\r\\n            </div>\\r\\n            <div class=\\\"col-4 col-sm-4 col-md-4\\\">\\r\\n              <div class=\\\"quantity\\\">\\r\\n                <input\\r\\n                  class=\\\"qty\\\"\\r\\n                  type=\\\"number\\\"\\r\\n                  size=\\\"4\\\"\\r\\n                  step=\\\"1\\\"\\r\\n                  name=\\\"{{b._id}}\\\"\\r\\n                  formControlName=\\\"{{b._id}}\\\"\\r\\n                />\\r\\n              </div>\\r\\n            </div>\\r\\n            <div class=\\\"col-2 col-sm-2 col-md-2 text-right\\\">\\r\\n              <button class=\\\"btn btn-outline-danger btn-xs\\\" (click)=\\\"openRemoveModal(remove, b._id)\\\">\\r\\n                <i class=\\\"fa fa-trash\\\" aria-hidden=\\\"true\\\"></i>\\r\\n              </button>\\r\\n            </div>\\r\\n          </div>\\r\\n        </div>\\r\\n        <div \\r\\n          class=\\\"alert alert-danger\\\"\\r\\n          *ngIf=\\\"getControl(b._id).invalid\\r\\n          && (getControl(b._id).dirty\\r\\n          || getControl(b._id).touched)\\\"\\r\\n        >\\r\\n          <div *ngIf=\\\"getControl(b._id).errors.required\\\">\\r\\n            Quantity is required\\r\\n          </div>\\r\\n          <div *ngIf=\\\"getControl(b._id).errors.min || getControl(b._id).errors.max\\\">\\r\\n            Quantity must be between 1 and 20\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"card-footer bg-dark\\\">\\r\\n        <div class=\\\"pull-right\\\">\\r\\n          <div class=\\\"pull-right\\\">\\r\\n            Total price: <b>{{cart.totalPrice | number:'1.2-2'}}&#x24;</b>\\r\\n          </div>\\r\\n          <input\\r\\n            class=\\\"btn btn-success pull-right\\\"\\r\\n            type=\\\"submit\\\" value=\\\"Checkout\\\"\\r\\n            [disabled]=\\\"cartForm.invalid\\\"\\r\\n            (click)=\\\"onSubmit()\\\"\\r\\n          />\\r\\n          <a routerLink=\\\"/book/store/default\\\" class=\\\"btn btn-secondary\\\">\\r\\n            Continue shopping\\r\\n          </a>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </form>\\r\\n</div>\\r\\n\\r\\n<ng-template #remove>\\r\\n  <div class=\\\"modal-body text-center\\\">\\r\\n    <p>Do you really want to remove this book from cart?</p>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"onRemove()\\\">Yes</button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"removeModalRef.hide()\\\">No</button>\\r\\n  </div>\\r\\n</ng-template>\"","// Decorators and Lifehooks\r\nimport { Component, TemplateRef, OnInit, OnDestroy } from '@angular/core';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\n\r\n// Router\r\nimport { Router } from '@angular/router';\r\n\r\n// Forms\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\n\r\n// RXJS\r\nimport { Subscription } from 'rxjs';\r\nimport { debounceTime, distinctUntilChanged } from 'rxjs/operators';\r\n\r\n// Services\r\nimport { CartService } from '../../services/cart.service';\r\nimport { HelperService } from '../../services/helper.service';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n// Models\r\nimport { Cart } from '../../models/cart.model';\r\nimport { Book } from '../../models/book.model';\r\n\r\n@Component({\r\n  selector: 'app-cart',\r\n  templateUrl: './cart.component.html',\r\n  styleUrls: ['./cart.component.css']\r\n})\r\nexport class CartComponent implements OnInit, OnDestroy {\r\n  cart: Cart;\r\n  cartForm: FormGroup;\r\n  changesSub$: Subscription;\r\n  removeModalRef: BsModalRef;\r\n  lastCartState: string;\r\n  lastDeleteId: string;\r\n\r\n  constructor(\r\n    private router: Router,\r\n    private cartService: CartService,\r\n    private helperService: HelperService,\r\n    private modalService: BsModalService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.cartService\r\n      .getCart()\r\n      .subscribe((res) => {\r\n        this.cart = res.data;\r\n        this.cartForm = this.toFormGroup(this.cart.books);\r\n        this.onChanges();\r\n      });\r\n  }\r\n\r\n  ngOnDestroy(): void {\r\n    this.changesSub$.unsubscribe();\r\n  }\r\n\r\n  toFormGroup(books: Book[]): FormGroup {\r\n    const group: any = {};\r\n\r\n    books.forEach(book => {\r\n      group[book._id] = new FormControl(\r\n        book.qty || '', [\r\n          Validators.required,\r\n          Validators.min(1),\r\n          Validators.max(20)\r\n        ]);\r\n    });\r\n\r\n    return new FormGroup(group);\r\n  }\r\n\r\n  onChanges(): void {\r\n    this.changesSub$ = this.cartForm\r\n      .valueChanges\r\n      .pipe(\r\n        debounceTime(800),\r\n        distinctUntilChanged()\r\n      )\r\n      .subscribe(val => {\r\n        if (this.lastCartState !== JSON.stringify(val)) {\r\n          this.lastCartState = JSON.stringify(val);\r\n          this.reCalcSum(val);\r\n        }\r\n      });\r\n  }\r\n\r\n  openRemoveModal(template: TemplateRef<any>, id: string): void {\r\n    this.lastDeleteId = id;\r\n    this.removeModalRef = this.modalService.show(\r\n      template,\r\n      { class: 'myModal modal-sm' }\r\n    );\r\n  }\r\n\r\n  onRemove(): void {\r\n    this.cartService\r\n      .removeFromCart(this.lastDeleteId)\r\n      .subscribe(() => {\r\n        this.helperService.cartStatus.next('remove');\r\n        this.cart.books = this.cart.books.filter(b => b._id !== this.lastDeleteId);\r\n        this.reCalcSum(this.cartForm.value);\r\n        this.removeModalRef.hide();\r\n      });\r\n  }\r\n\r\n  onSubmit(): void {\r\n    this.cartService\r\n      .checkout(this.cartForm.value)\r\n      .subscribe(() => {\r\n        this.helperService.cartStatus.next('updateStatus');\r\n        this.router.navigate(['/user/purchaseHistory']);\r\n      });\r\n  }\r\n\r\n  reCalcSum(formValues: object): void {\r\n    let price = 0;\r\n    for (const b of this.cart.books) {\r\n      price += b.price * formValues[b._id];\r\n    }\r\n\r\n    this.cart.totalPrice = price;\r\n  }\r\n\r\n  getControl(id: string) {\r\n    return this.cartForm.get(id);\r\n  }\r\n}\r\n","module.exports = \".test {\\r\\n  margin-top: 10px;\\r\\n}\\r\\n\\r\\n.comment {\\r\\n  padding: 20px;\\r\\n  background-color: #313532;\\r\\n  border-radius: 10px;\\r\\n}\\r\\n\\r\\n.col-12 {\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.col-md-9 {\\r\\n  text-align: center;\\r\\n  margin: 0 auto;\\r\\n}\\r\\n\\r\\n.mb-2 {\\r\\n  margin-bottom: 10px;\\r\\n}\\r\\n\\r\\n.comment-body button {\\r\\n  float: left;\\r\\n  margin-left: 10px;\\r\\n}\\r\\n\\r\\n.comment-meta {\\r\\n  text-align: left;\\r\\n}\\r\\n\\r\\n.comment-body p {\\r\\n  text-align: justify;\\r\\n}\"","module.exports = \"<div class=\\\"row\\\">\\r\\n  <div class=\\\"comments col-md-9\\\">\\r\\n    <h3 class=\\\"mb-2\\\">Comments</h3>\\r\\n\\r\\n    <div class=\\\"row pt-2\\\">\\r\\n      <div class=\\\"col-12\\\">\\r\\n        <button \\r\\n          [hidden]=\\\"!isLogged\\\"\\r\\n          type=\\\"button\\\"\\r\\n          class=\\\"btn btn-primary\\\"\\r\\n          (click)=\\\"openFormModal(commentFormTemplate)\\\">Add Comment\\r\\n        </button>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"comment mb-2 row\\\" *ngFor=\\\"let c of comments\\\">\\r\\n      <div class=\\\"comment-avatar col-md-1 col-sm-2 text-center pr-1\\\">\\r\\n        <a routerLink=\\\"/user/profile/{{c.user.username}}\\\">\\r\\n          <img class=\\\"mx-auto rounded-circle img-fluid\\\" src=\\\"{{c.user.avatar}}\\\" alt=\\\"avatar\\\" />\\r\\n        </a>\\r\\n      </div>\\r\\n      <div class=\\\"comment-content col-md-11 col-sm-10\\\">\\r\\n        <h6 class=\\\"small comment-meta\\\">\\r\\n          <a routerLink=\\\"/user/profile/{{c.user.username}}\\\">by {{c.user.username}}</a> {{c.creationDate | commentTime}} ago\\r\\n        </h6>\\r\\n        <div class=\\\"comment-body\\\">\\r\\n          <p>{{c.content}}</p>\\r\\n          <button \\r\\n            [hidden]=\\\"!isAdmin && c.user._id !== userId\\\"\\r\\n            type=\\\"button\\\"\\r\\n            class=\\\"btn btn-primary btn-sm\\\"\\r\\n            (click)=\\\"openFormModal(commentFormTemplate, c._id)\\\">Edit Comment\\r\\n          </button>\\r\\n          <button\\r\\n          [hidden]=\\\"!isAdmin && c.user._id !== userId\\\"\\r\\n          type=\\\"button\\\"\\r\\n          class=\\\"btn btn-danger btn-sm\\\"\\r\\n          (click)=\\\"openRemoveModal(remove, c._id)\\\">Delete Comment\\r\\n        </button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n    <div class=\\\"row pt-2\\\">\\r\\n      <div class=\\\"col-12\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"loadMoreComments()\\\">Load More...</button>\\r\\n      </div>\\r\\n    </div>\\r\\n\\r\\n  </div>\\r\\n</div>\\r\\n\\r\\n<ng-template #commentFormTemplate>\\r\\n  <div class=\\\"modal-header\\\">\\r\\n    <h4 class=\\\"modal-title pull-left\\\">{{action}} Comment</h4>\\r\\n    <button type=\\\"button\\\" class=\\\"close pull-right\\\" aria-label=\\\"Close\\\" (click)=\\\"commentModalRef.hide()\\\">\\r\\n      <span aria-hidden=\\\"true\\\">&times;</span>\\r\\n    </button>\\r\\n  </div>\\r\\n  <div class=\\\"modal-body\\\">\\r\\n    <form #formDir=\\\"ngForm\\\" [formGroup]=\\\"commentForm\\\" (ngSubmit)=\\\"onSubmit()\\\">\\r\\n      <div class=\\\"form-group\\\">\\r\\n        <textarea class=\\\"form-control\\\" name=\\\"content\\\" cols=\\\"30\\\" rows=\\\"10\\\" formControlName=\\\"content\\\"></textarea>\\r\\n        <div class=\\\"test\\\">\\r\\n          <button type=\\\"submit\\\" class=\\\"btn btn-primary\\\" (click)=\\\"commentModalRef.hide()\\\" [disabled]=\\\"commentForm.invalid\\\">Submit</button>\\r\\n        </div>\\r\\n      </div>\\r\\n    </form>\\r\\n  </div>\\r\\n</ng-template>\\r\\n\\r\\n<ng-template #remove>\\r\\n  <div class=\\\"modal-body text-center\\\">\\r\\n    <p>Do you really want to delete your comment?</p>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-default\\\" (click)=\\\"removeComment()\\\">Yes</button>\\r\\n    <button type=\\\"button\\\" class=\\\"btn btn-primary\\\" (click)=\\\"removeModalRef.hide()\\\">No</button>\\r\\n  </div>\\r\\n</ng-template>\"","// Decorators and Lifehooks\r\nimport { Component, TemplateRef, Input, OnInit } from '@angular/core';\r\nimport { BsModalRef } from 'ngx-bootstrap/modal/bs-modal-ref.service';\r\n\r\n// Services\r\nimport { CommentService } from '../../services/comment.service';\r\nimport { BsModalService } from 'ngx-bootstrap/modal';\r\n\r\n// Models\r\nimport { Comment } from '../../models/comment.model';\r\nimport { FormGroup, FormControl, Validators } from '@angular/forms';\r\n\r\n@Component({\r\n  selector: 'app-comment',\r\n  templateUrl: './comment.component.html',\r\n  styleUrls: ['./comment.component.css']\r\n})\r\nexport class CommentComponent implements OnInit {\r\n  @Input('bookId') bookId: string;\r\n  @Input('isLogged') isLogged: boolean;\r\n  @Input('isAdmin') isAdmin: boolean;\r\n  @Input('userId') userId: string;\r\n  commentForm: FormGroup;\r\n  commentModalRef: BsModalRef;\r\n  removeModalRef: BsModalRef;\r\n  comments: Comment[] = [];\r\n  isFromEdit: boolean;\r\n  lastEditId: string;\r\n  lastDeleteId: string;\r\n  action: string;\r\n\r\n  constructor(\r\n    private commentService: CommentService,\r\n    private modalService: BsModalService\r\n  ) { }\r\n\r\n  ngOnInit(): void {\r\n    this.commentForm = new FormGroup({\r\n      'content': new FormControl('', Validators.required)\r\n    });\r\n\r\n    this.commentService\r\n      .getComments(this.bookId, this.comments.length.toString())\r\n      .subscribe((res) => {\r\n        this.comments = res.data;\r\n      });\r\n  }\r\n\r\n  openFormModal(template: TemplateRef<any>, id?: string): void {\r\n    if (id) {\r\n      let content = '';\r\n      this.isFromEdit = true;\r\n      this.lastEditId = id;\r\n      for (const c of this.comments) {\r\n        if (c._id === id) {\r\n          content = c.content;\r\n          break;\r\n        }\r\n      }\r\n      this.action = 'Edit';\r\n      this.commentForm.patchValue({ content: content });\r\n    } else {\r\n      this.action = 'Create';\r\n      this.isFromEdit = false;\r\n      this.commentForm.patchValue({ content: '' });\r\n    }\r\n\r\n    this.commentModalRef = this.modalService.show(\r\n      template,\r\n      { class: 'myModal' }\r\n    );\r\n  }\r\n\r\n  openRemoveModal(template: TemplateRef<any>, id: string): void {\r\n    this.lastDeleteId = id;\r\n    this.removeModalRef = this.modalService.show(\r\n      template,\r\n      { class: 'myModal modal-sm' }\r\n    );\r\n  }\r\n\r\n  onSubmit(): void {\r\n    if (this.isFromEdit) {\r\n      this.modifyComment();\r\n    } else {\r\n      this.createComment();\r\n    }\r\n  }\r\n\r\n  loadMoreComments(): void {\r\n    this.commentService\r\n      .getComments(this.bookId, this.comments.length.toString())\r\n      .subscribe((res) => {\r\n        if (res.data.length !== 0) {\r\n          this.comments.splice(this.comments.length, 0, ...res.data);\r\n        }\r\n      });\r\n  }\r\n\r\n  createComment(): void {\r\n    this.commentService\r\n      .addComment(this.bookId, this.commentForm.value)\r\n      .subscribe((res) => {\r\n        this.comments.unshift(res.data);\r\n      });\r\n\r\n    this.commentForm.reset();\r\n  }\r\n\r\n  modifyComment(): void {\r\n    const editedContent = this.commentForm.value.content;\r\n    this.commentService\r\n      .editComment(this.lastEditId, this.commentForm.value)\r\n      .subscribe(() => {\r\n        for (const c of this.comments) {\r\n          if (c._id === this.lastEditId) {\r\n            c.content = editedContent;\r\n            break;\r\n          }\r\n        }\r\n      });\r\n\r\n    this.commentForm.reset();\r\n  }\r\n\r\n  removeComment(): void {\r\n    this.removeModalRef.hide();\r\n    const delId = this.lastDeleteId;\r\n    this.commentService\r\n      .deleteComment(this.lastDeleteId)\r\n      .subscribe(() => {\r\n        this.comments = this.comments.filter(c => c._id !== delId);\r\n      });\r\n  }\r\n\r\n}\r\n","// Decorators\r\nimport { NgModule } from '@angular/core';\r\n\r\n// Modules\r\nimport { CommonModule } from '@angular/common';\r\nimport { RouterModule } from '@angular/router';\r\nimport { ReactiveFormsModule } from '@angular/forms';\r\n\r\n// Components\r\nimport { CommentComponent } from './comment/comment.component';\r\nimport { CartComponent } from './cart/cart.component';\r\nimport { BookComponent } from './book/book.component';\r\n\r\n// Directives\r\nimport { MustMatchDirective } from '../directives/must-match.directive';\r\nimport { IsUrlDirective } from '../directives/is-url.directive';\r\nimport { IsIsbnDirective } from '../directives/is-isbn.directive';\r\n\r\n// Pipes\r\nimport { CommentTimePipe } from '../pipes/comment-time.pipe';\r\nimport { ShortenStringPipe } from '../pipes/shorten-string.pipe';\r\n\r\n@NgModule({\r\n  declarations: [\r\n    CommentComponent,\r\n    CartComponent,\r\n    BookComponent,\r\n    MustMatchDirective,\r\n    IsUrlDirective,\r\n    IsIsbnDirective,\r\n    CommentTimePipe,\r\n    ShortenStringPipe\r\n  ],\r\n  imports: [\r\n    CommonModule,\r\n    RouterModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  exports: [\r\n    CommentComponent,\r\n    CartComponent,\r\n    BookComponent,\r\n    MustMatchDirective,\r\n    IsUrlDirective,\r\n    IsIsbnDirective,\r\n    CommentTimePipe,\r\n    ShortenStringPipe\r\n  ]\r\n})\r\nexport class SharedModule { }\r\n","export const environment = {\r\n  production: true,\r\n  serverURL: \"https://books.gokulsreejith.com\"\r\n};\r\n","import { enableProdMode } from '@angular/core';\r\nimport { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\r\n\r\nimport { AppModule } from './app/app.module';\r\nimport { environment } from './environments/environment';\r\n\r\nif (environment.production) {\r\n  enableProdMode();\r\n}\r\n\r\nplatformBrowserDynamic().bootstrapModule(AppModule)\r\n  .catch(err => console.log(err));\r\n"],"sourceRoot":""}